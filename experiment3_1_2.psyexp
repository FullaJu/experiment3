<?xml version="1.0" ?>
<PsychoPy2experiment encoding="utf-8" version="2021.2.3">
  <Settings>
    <Param name="Audio latency priority" updates="None" val="use prefs" valType="str"/>
    <Param name="Audio lib" updates="None" val="use prefs" valType="str"/>
    <Param name="Completed URL" updates="None" val="" valType="str"/>
    <Param name="Data file delimiter" updates="None" val="auto" valType="str"/>
    <Param name="Data filename" updates="None" val="u'data/%s_%s_%s' % (expInfo['编号*'], expName, expInfo['date'])" valType="code"/>
    <Param name="Enable Escape" updates="None" val="True" valType="bool"/>
    <Param name="Experiment info" updates="None" val="{'编号*': '', 'session': '001'}" valType="code"/>
    <Param name="Force stereo" updates="None" val="True" valType="bool"/>
    <Param name="Full-screen window" updates="None" val="True" valType="bool"/>
    <Param name="HTML path" updates="None" val="" valType="str"/>
    <Param name="Incomplete URL" updates="None" val="" valType="str"/>
    <Param name="Monitor" updates="None" val="testMonitor" valType="str"/>
    <Param name="Resources" updates="None" val="['stimuli\\0-3-1.jpg', 'stimuli\\0-3-2.jpg', 'stimuli\\0-3-4.jpg', 'stimuli\\0-3-8.jpg', 'stimuli\\0-3-10.jpg', 'stimuli\\0-3-12.jpg', 'stimuli\\0-3-15.jpg', 'stimuli\\0-3-16.jpg', 'stimuli\\0-3-17.jpg', 'stimuli\\0-3-18.jpg', 'stimuli\\0-3-19.jpg', 'stimuli\\0-3-20.jpg', 'stimuli\\0-6-1.jpg', 'stimuli\\0-6-6.jpg', 'stimuli\\0-6-7.jpg', 'stimuli\\0-6-9.jpg', 'stimuli\\0-6-11.jpg', 'stimuli\\0-6-13.jpg', 'stimuli\\0-6-15.jpg', 'stimuli\\0-6-16.jpg', 'stimuli\\0-6-17.jpg', 'stimuli\\0-6-18.jpg', 'stimuli\\0-6-19.jpg', 'stimuli\\0-6-20.jpg', 'stimuli\\0-9-3.jpg', 'stimuli\\0-9-5.jpg', 'stimuli\\0-9-6.jpg', 'stimuli\\0-9-8.jpg', 'stimuli\\0-9-10.jpg', 'stimuli\\0-9-11.jpg', 'stimuli\\0-9-12.jpg', 'stimuli\\0-9-14.jpg', 'stimuli\\0-9-15.jpg', 'stimuli\\0-9-16.jpg', 'stimuli\\0-9-17.jpg', 'stimuli\\0-9-20.jpg', 'stimuli\\0-10-1.jpg', 'stimuli\\0-10-2.jpg', 'stimuli\\0-10-3.jpg', 'stimuli\\0-10-5.jpg', 'stimuli\\0-10-6.jpg', 'stimuli\\0-10-8.jpg', 'stimuli\\0-10-11.jpg', 'stimuli\\0-10-12.jpg', 'stimuli\\0-10-13.jpg', 'stimuli\\0-10-15.jpg', 'stimuli\\0-10-18.jpg', 'stimuli\\0-10-19.jpg', 'stimuli\\0-15-3.jpg', 'stimuli\\0-15-4.jpg', 'stimuli\\0-15-5.jpg', 'stimuli\\0-15-6.jpg', 'stimuli\\0-15-7.jpg', 'stimuli\\0-15-9.jpg', 'stimuli\\0-15-10.jpg', 'stimuli\\0-15-11.jpg', 'stimuli\\0-15-14.jpg', 'stimuli\\0-15-17.jpg', 'stimuli\\0-15-18.jpg', 'stimuli\\0-15-20.jpg', 'stimuli\\0-17-1.jpg', 'stimuli\\0-17-3.jpg', 'stimuli\\0-17-5.jpg', 'stimuli\\0-17-7.jpg', 'stimuli\\0-17-10.jpg', 'stimuli\\0-17-11.jpg', 'stimuli\\0-17-12.jpg', 'stimuli\\0-17-14.jpg', 'stimuli\\0-17-16.jpg', 'stimuli\\0-17-17.jpg', 'stimuli\\0-17-19.jpg', 'stimuli\\0-17-20.jpg', 'stimuli\\0-18-1.jpg', 'stimuli\\0-18-2.jpg', 'stimuli\\0-18-4.jpg', 'stimuli\\0-18-6.jpg', 'stimuli\\0-18-8.jpg', 'stimuli\\0-18-9.jpg', 'stimuli\\0-18-10.jpg', 'stimuli\\0-18-13.jpg', 'stimuli\\0-18-14.jpg', 'stimuli\\0-18-17.jpg', 'stimuli\\0-18-18.jpg', 'stimuli\\0-18-19.jpg', 'stimuli\\0-20-3.jpg', 'stimuli\\0-20-6.jpg', 'stimuli\\0-20-7.jpg', 'stimuli\\0-20-8.jpg', 'stimuli\\0-20-9.jpg', 'stimuli\\0-20-12.jpg', 'stimuli\\0-20-13.jpg', 'stimuli\\0-20-15.jpg', 'stimuli\\0-20-17.jpg', 'stimuli\\0-20-18.jpg', 'stimuli\\0-20-19.jpg', 'stimuli\\0-20-20.jpg', 'stimuli\\0-25-1.jpg', 'stimuli\\0-25-4.jpg', 'stimuli\\0-25-6.jpg', 'stimuli\\0-25-9.jpg', 'stimuli\\0-25-11.jpg', 'stimuli\\0-25-12.jpg', 'stimuli\\0-25-13.jpg', 'stimuli\\0-25-16.jpg', 'stimuli\\0-25-17.jpg', 'stimuli\\0-25-18.jpg', 'stimuli\\0-25-19.jpg', 'stimuli\\0-25-20.jpg', 'stimuli\\0-26-1.jpg', 'stimuli\\0-26-2.jpg', 'stimuli\\0-26-3.jpg', 'stimuli\\0-26-4.jpg', 'stimuli\\0-26-5.jpg', 'stimuli\\0-26-7.jpg', 'stimuli\\0-26-8.jpg', 'stimuli\\0-26-12.jpg', 'stimuli\\0-26-14.jpg', 'stimuli\\0-26-15.jpg', 'stimuli\\0-26-16.jpg', 'stimuli\\0-26-20.jpg', 'stimuli\\1-2-3.jpg', 'stimuli\\1-2-8.jpg', 'stimuli\\1-2-9.jpg', 'stimuli\\1-2-10.jpg', 'stimuli\\1-2-11.jpg', 'stimuli\\1-2-12.jpg', 'stimuli\\1-2-14.jpg', 'stimuli\\1-2-15.jpg', 'stimuli\\1-2-16.jpg', 'stimuli\\1-2-17.jpg', 'stimuli\\1-2-18.jpg', 'stimuli\\1-2-19.jpg', 'stimuli\\1-4-1.jpg', 'stimuli\\1-4-4.jpg', 'stimuli\\1-4-5.jpg', 'stimuli\\1-4-6.jpg', 'stimuli\\1-4-7.jpg', 'stimuli\\1-4-9.jpg', 'stimuli\\1-4-10.jpg', 'stimuli\\1-4-11.jpg', 'stimuli\\1-4-13.jpg', 'stimuli\\1-4-15.jpg', 'stimuli\\1-4-16.jpg', 'stimuli\\1-4-18.jpg', 'stimuli\\1-7-1.jpg', 'stimuli\\1-7-2.jpg', 'stimuli\\1-7-4.jpg', 'stimuli\\1-7-5.jpg', 'stimuli\\1-7-6.jpg', 'stimuli\\1-7-7.jpg', 'stimuli\\1-7-9.jpg', 'stimuli\\1-7-10.jpg', 'stimuli\\1-7-13.jpg', 'stimuli\\1-7-14.jpg', 'stimuli\\1-7-18.jpg', 'stimuli\\1-7-19.jpg', 'stimuli\\1-8-1.jpg', 'stimuli\\1-8-2.jpg', 'stimuli\\1-8-3.jpg', 'stimuli\\1-8-5.jpg', 'stimuli\\1-8-8.jpg', 'stimuli\\1-8-9.jpg', 'stimuli\\1-8-11.jpg', 'stimuli\\1-8-12.jpg', 'stimuli\\1-8-13.jpg', 'stimuli\\1-8-15.jpg', 'stimuli\\1-8-16.jpg', 'stimuli\\1-8-20.jpg', 'stimuli\\1-14-3.jpg', 'stimuli\\1-14-4.jpg', 'stimuli\\1-14-6.jpg', 'stimuli\\1-14-7.jpg', 'stimuli\\1-14-10.jpg', 'stimuli\\1-14-11.jpg', 'stimuli\\1-14-12.jpg', 'stimuli\\1-14-13.jpg', 'stimuli\\1-14-14.jpg', 'stimuli\\1-14-16.jpg', 'stimuli\\1-14-17.jpg', 'stimuli\\1-14-20.jpg', 'stimuli\\1-16-1.jpg', 'stimuli\\1-16-2.jpg', 'stimuli\\1-16-3.jpg', 'stimuli\\1-16-4.jpg', 'stimuli\\1-16-5.jpg', 'stimuli\\1-16-6.jpg', 'stimuli\\1-16-8.jpg', 'stimuli\\1-16-9.jpg', 'stimuli\\1-16-15.jpg', 'stimuli\\1-16-18.jpg', 'stimuli\\1-16-19.jpg', 'stimuli\\1-16-20.jpg', 'stimuli\\1-21-1.jpg', 'stimuli\\1-21-2.jpg', 'stimuli\\1-21-3.jpg', 'stimuli\\1-21-4.jpg', 'stimuli\\1-21-7.jpg', 'stimuli\\1-21-8.jpg', 'stimuli\\1-21-10.jpg', 'stimuli\\1-21-11.jpg', 'stimuli\\1-21-14.jpg', 'stimuli\\1-21-18.jpg', 'stimuli\\1-21-19.jpg', 'stimuli\\1-21-20.jpg', 'stimuli\\1-22-1.jpg', 'stimuli\\1-22-3.jpg', 'stimuli\\1-22-5.jpg', 'stimuli\\1-22-7.jpg', 'stimuli\\1-22-8.jpg', 'stimuli\\1-22-11.jpg', 'stimuli\\1-22-13.jpg', 'stimuli\\1-22-15.jpg', 'stimuli\\1-22-16.jpg', 'stimuli\\1-22-17.jpg', 'stimuli\\1-22-18.jpg', 'stimuli\\1-22-20.jpg', 'stimuli\\1-23-1.jpg', 'stimuli\\1-23-2.jpg', 'stimuli\\1-23-3.jpg', 'stimuli\\1-23-5.jpg', 'stimuli\\1-23-8.jpg', 'stimuli\\1-23-9.jpg', 'stimuli\\1-23-10.jpg', 'stimuli\\1-23-11.jpg', 'stimuli\\1-23-16.jpg', 'stimuli\\1-23-18.jpg', 'stimuli\\1-23-19.jpg', 'stimuli\\1-23-20.jpg', 'stimuli\\1-24-1.jpg', 'stimuli\\1-24-3.jpg', 'stimuli\\1-24-4.jpg', 'stimuli\\1-24-5.jpg', 'stimuli\\1-24-7.jpg', 'stimuli\\1-24-8.jpg', 'stimuli\\1-24-9.jpg', 'stimuli\\1-24-11.jpg', 'stimuli\\1-24-13.jpg', 'stimuli\\1-24-15.jpg', 'stimuli\\1-24-18.jpg', 'stimuli\\1-24-20.jpg', 'stimuli\\attention.jpg', 'stimuli\\attention_7.jpg', 'all_faces.json', 'all_faces.xlsx', 'blank.png']" valType="list"/>
    <Param name="Save csv file" updates="None" val="False" valType="bool"/>
    <Param name="Save excel file" updates="None" val="False" valType="bool"/>
    <Param name="Save hdf5 file" updates="None" val="False" valType="bool"/>
    <Param name="Save log file" updates="None" val="True" valType="bool"/>
    <Param name="Save psydat file" updates="None" val="True" valType="bool"/>
    <Param name="Save wide csv file" updates="None" val="True" valType="bool"/>
    <Param name="Screen" updates="None" val="1" valType="num"/>
    <Param name="Show info dlg" updates="None" val="True" valType="bool"/>
    <Param name="Show mouse" updates="None" val="False" valType="bool"/>
    <Param name="Units" updates="None" val="height" valType="str"/>
    <Param name="Use version" updates="None" val="" valType="str"/>
    <Param name="Window size (pixels)" updates="None" val="[1440, 900]" valType="list"/>
    <Param name="blendMode" updates="None" val="avg" valType="str"/>
    <Param name="color" updates="None" val="$[0,0,0]" valType="color"/>
    <Param name="colorSpace" updates="None" val="rgb" valType="str"/>
    <Param name="elAddress" updates="None" val="100.1.1.1" valType="str"/>
    <Param name="elDataFiltering" updates="None" val="FILTER_LEVEL_2" valType="str"/>
    <Param name="elLiveFiltering" updates="None" val="FILTER_LEVEL_OFF" valType="str"/>
    <Param name="elModel" updates="None" val="EYELINK 1000 DESKTOP" valType="str"/>
    <Param name="elPupilAlgorithm" updates="None" val="ELLIPSE_FIT" valType="str"/>
    <Param name="elPupilMeasure" updates="None" val="PUPIL_AREA" valType="str"/>
    <Param name="elSampleRate" updates="None" val="1000" valType="num"/>
    <Param name="elSimMode" updates="None" val="False" valType="bool"/>
    <Param name="elTrackEyes" updates="None" val="RIGHT_EYE" valType="str"/>
    <Param name="elTrackingMode" updates="None" val="PUPIL_CR_TRACKING" valType="str"/>
    <Param name="expName" updates="None" val="experiment3_1" valType="str"/>
    <Param name="exportHTML" updates="None" val="on Sync" valType="str"/>
    <Param name="eyetracker" updates="None" val="None" valType="str"/>
    <Param name="gpAddress" updates="None" val="127.0.0.1" valType="str"/>
    <Param name="gpPort" updates="None" val="4242" valType="num"/>
    <Param name="logging level" updates="None" val="exp" valType="code"/>
    <Param name="mgBlink" updates="None" val="('MIDDLE_BUTTON',)" valType="list"/>
    <Param name="mgMove" updates="None" val="CONTINUOUS" valType="str"/>
    <Param name="mgSaccade" updates="None" val="0.5" valType="num"/>
    <Param name="tbLicenseFile" updates="None" val="" valType="str"/>
    <Param name="tbModel" updates="None" val="" valType="str"/>
    <Param name="tbSampleRate" updates="None" val="60" valType="num"/>
    <Param name="tbSerialNo" updates="None" val="" valType="str"/>
  </Settings>
  <Routines>
    <Routine name="instruction">
      <TextComponent name="instru_text">
        <Param name="color" updates="constant" val="white" valType="color"/>
        <Param name="colorSpace" updates="constant" val="rgb" valType="str"/>
        <Param name="contrast" updates="constant" val="1" valType="num"/>
        <Param name="disabled" updates="None" val="False" valType="bool"/>
        <Param name="durationEstim" updates="None" val="" valType="code"/>
        <Param name="flip" updates="constant" val="None" valType="str"/>
        <Param name="font" updates="constant" val="Open Sans" valType="str"/>
        <Param name="languageStyle" updates="None" val="LTR" valType="str"/>
        <Param name="letterHeight" updates="constant" val="0.03" valType="num"/>
        <Param name="name" updates="None" val="instru_text" valType="code"/>
        <Param name="opacity" updates="constant" val="" valType="num"/>
        <Param name="ori" updates="constant" val="0" valType="num"/>
        <Param name="pos" updates="constant" val="(0, 0)" valType="list"/>
        <Param name="saveStartStop" updates="None" val="True" valType="bool"/>
        <Param name="startEstim" updates="None" val="" valType="code"/>
        <Param name="startType" updates="None" val="time (s)" valType="str"/>
        <Param name="startVal" updates="None" val="0.0" valType="code"/>
        <Param name="stopType" updates="None" val="duration (s)" valType="str"/>
        <Param name="stopVal" updates="constant" val="" valType="code"/>
        <Param name="syncScreenRefresh" updates="None" val="True" valType="bool"/>
        <Param name="text" updates="constant" val="欢迎参加本次实验！&amp;#10;在实验中，你将扮演某二手交易平台上的买家。&amp;#10;平台会给您提供某些卖家的个人照片。&amp;#10;请你根据卖家的个人照片判断该卖家的可信度，&amp;#10;以决定是否愿意与其进行交易（如购买课本、租借物品等）。&amp;#10;&amp;#10;请按空格键继续。" valType="str"/>
        <Param name="units" updates="None" val="from exp settings" valType="str"/>
        <Param name="wrapWidth" updates="constant" val="" valType="num"/>
      </TextComponent>
      <CodeComponent name="code_instru">
        <Param name="Before Experiment" updates="constant" val="" valType="extendedCode"/>
        <Param name="Before JS Experiment" updates="constant" val="" valType="extendedCode"/>
        <Param name="Begin Experiment" updates="constant" val="# 导入必要的库&amp;#10;import random&amp;#10;import pandas as pd&amp;#10;import os&amp;#10;import numpy as np&amp;#10;&amp;#10;&amp;#10;current_img = &quot;blank.png&quot;  &amp;#10;# 读取刺激列表&amp;#10;stim_file = 'all_faces.xlsx'&amp;#10;faces_df = pd.read_excel(stim_file)&amp;#10;&amp;#10;# 分离男性和女性面孔&amp;#10;male_faces = faces_df[faces_df['gender'] == 'male'].sort_values(by='range', ascending=False).reset_index(drop=True)&amp;#10;female_faces = faces_df[faces_df['gender'] == 'female'].sort_values(by='range', ascending=False).reset_index(drop=True)&amp;#10;&amp;#10;# 获取参与者编号，用于确定配对方式&amp;#10;participant_id = int(expInfo[&quot;编号*&quot;])&amp;#10;&amp;#10;# 初始化存储trials数据的列表&amp;#10;trials_data = []&amp;#10;&amp;#10;# 处理男性面孔&amp;#10;for i in range(0, len(male_faces), 2):&amp;#10;    if i + 1 &lt; len(male_faces):  # 确保有配对的人物&amp;#10;        face1 = male_faces.iloc[i]&amp;#10;        face2 = male_faces.iloc[i+1]&amp;#10;        &amp;#10;        # 根据被试编号和配对索引决定分配方式&amp;#10;        if (participant_id + i//2) % 2 == 0:&amp;#10;            # 人物1到条件1，人物2到条件2&amp;#10;            trials_data.append({**face1.to_dict(), 'condition': 1})&amp;#10;            trials_data.append({**face2.to_dict(), 'condition': 2})&amp;#10;        else:&amp;#10;            # 人物1到条件2，人物2到条件1&amp;#10;            trials_data.append({**face1.to_dict(), 'condition': 2})&amp;#10;            trials_data.append({**face2.to_dict(), 'condition': 1})&amp;#10;&amp;#10;# 处理女性面孔，使用相同的逻辑&amp;#10;for i in range(0, len(female_faces), 2):&amp;#10;    if i + 1 &lt; len(female_faces):  # 确保有配对的人物&amp;#10;        face1 = female_faces.iloc[i]&amp;#10;        face2 = female_faces.iloc[i+1]&amp;#10;        &amp;#10;        # 根据被试编号和配对索引决定分配方式&amp;#10;        if (participant_id + i//2) % 2 == 0:&amp;#10;            trials_data.append({**face1.to_dict(), 'condition': 1})&amp;#10;            trials_data.append({**face2.to_dict(), 'condition': 2})&amp;#10;        else:&amp;#10;            trials_data.append({**face1.to_dict(), 'condition': 2})&amp;#10;            trials_data.append({**face2.to_dict(), 'condition': 1})&amp;#10;&amp;#10;# 转换为数据框并随机化试次顺序&amp;#10;trials_df = pd.DataFrame(trials_data)&amp;#10;trials_df = trials_df.sample(frac=1).reset_index(drop=True)  # 随机化试次顺序&amp;#10;&amp;#10;# 检查两个条件下的性别平衡情况&amp;#10;condition1 = trials_df[trials_df['condition'] == 1]&amp;#10;condition2 = trials_df[trials_df['condition'] == 2]&amp;#10;&amp;#10;# 打印平衡检查结果&amp;#10;print(f&quot;条件1: 男性 = {sum(condition1['gender'] == 'male')}, 女性 = {sum(condition1['gender'] == 'female')}&quot;)&amp;#10;print(f&quot;条件2: 男性 = {sum(condition2['gender'] == 'male')}, 女性 = {sum(condition2['gender'] == 'female')}&quot;)&amp;#10;print(f&quot;条件1 平均range: {condition1['range'].mean():.2f}&quot;)&amp;#10;print(f&quot;条件2 平均range: {condition2['range'].mean():.2f}&quot;)&amp;#10;&amp;#10;# 保存为临时文件供TrialHandler使用&amp;#10;temp_trials_file = os.path.join('data', f'temp_trials_{expInfo[&quot;编号*&quot;]}.csv')&amp;#10;trials_df.to_csv(temp_trials_file, index=False)&amp;#10;&amp;#10;# 设置为全局变量，供后续使用&amp;#10;thisExp.extraInfo['trials_file'] = temp_trials_file&amp;#10;&amp;#10;# 创建全局字典存储评分和确定性&amp;#10;T1_ratings = {}&amp;#10;T1_confidence = {}" valType="extendedCode"/>
        <Param name="Begin JS Experiment" updates="constant" val="// 初始化全局变量&amp;#10;var current_img = &quot;blank.png&quot;;&amp;#10;&amp;#10;var thisExp = psychoJS.experiment;&amp;#10;&amp;#10;// 读取刺激列表 - 在线上实验中，您需要确保Excel文件已转换为JSON格式&amp;#10;// 假设您已经将all_faces.xlsx转换为JSON格式并通过资源加载&amp;#10;var faces_df = []; // 这里应该是您的面孔数据&amp;#10;&amp;#10;window.faces_df = [&amp;#10;    {&amp;#10;        &quot;identity&quot;: 6,&amp;#10;        &quot;gender&quot;: &quot;male&quot;,&amp;#10;        &quot;high_trust_img&quot;: &quot;stimuli/0-6-11.jpg&quot;,&amp;#10;        &quot;low_trust_img&quot;: &quot;stimuli/0-6-1.jpg&quot;,&amp;#10;        &quot;range&quot;: 1.53125&amp;#10;    },&amp;#10;    {&amp;#10;        &quot;identity&quot;: 26,&amp;#10;        &quot;gender&quot;: &quot;male&quot;,&amp;#10;        &quot;high_trust_img&quot;: &quot;stimuli/0-26-12.jpg&quot;,&amp;#10;        &quot;low_trust_img&quot;: &quot;stimuli/0-26-3.jpg&quot;,&amp;#10;        &quot;range&quot;: 1.59375&amp;#10;    },&amp;#10;    {&amp;#10;        &quot;identity&quot;: 2,&amp;#10;        &quot;gender&quot;: &quot;female&quot;,&amp;#10;        &quot;high_trust_img&quot;: &quot;stimuli/1-2-3.jpg&quot;,&amp;#10;        &quot;low_trust_img&quot;: &quot;stimuli/1-2-9.jpg&quot;,&amp;#10;        &quot;range&quot;: 1.6875&amp;#10;    },&amp;#10;    {&amp;#10;        &quot;identity&quot;: 21,&amp;#10;        &quot;gender&quot;: &quot;female&quot;,&amp;#10;        &quot;high_trust_img&quot;: &quot;stimuli/1-21-18.jpg&quot;,&amp;#10;        &quot;low_trust_img&quot;: &quot;stimuli/1-21-2.jpg&quot;,&amp;#10;        &quot;range&quot;: 1.6875&amp;#10;    },&amp;#10;    {&amp;#10;        &quot;identity&quot;: 10,&amp;#10;        &quot;gender&quot;: &quot;male&quot;,&amp;#10;        &quot;high_trust_img&quot;: &quot;stimuli/0-10-6.jpg&quot;,&amp;#10;        &quot;low_trust_img&quot;: &quot;stimuli/0-10-13.jpg&quot;,&amp;#10;        &quot;range&quot;: 1.8125&amp;#10;    },&amp;#10;    {&amp;#10;        &quot;identity&quot;: 4,&amp;#10;        &quot;gender&quot;: &quot;female&quot;,&amp;#10;        &quot;high_trust_img&quot;: &quot;stimuli/1-4-13.jpg&quot;,&amp;#10;        &quot;low_trust_img&quot;: &quot;stimuli/1-4-6.jpg&quot;,&amp;#10;        &quot;range&quot;: 2.0&amp;#10;    },&amp;#10;    {&amp;#10;        &quot;identity&quot;: 17,&amp;#10;        &quot;gender&quot;: &quot;male&quot;,&amp;#10;        &quot;high_trust_img&quot;: &quot;stimuli/0-17-11.jpg&quot;,&amp;#10;        &quot;low_trust_img&quot;: &quot;stimuli/0-17-3.jpg&quot;,&amp;#10;        &quot;range&quot;: 0.6875&amp;#10;    },&amp;#10;    {&amp;#10;        &quot;identity&quot;: 22,&amp;#10;        &quot;gender&quot;: &quot;female&quot;,&amp;#10;        &quot;high_trust_img&quot;: &quot;stimuli/1-22-1.jpg&quot;,&amp;#10;        &quot;low_trust_img&quot;: &quot;stimuli/1-22-8.jpg&quot;,&amp;#10;        &quot;range&quot;: 0.6875&amp;#10;    },&amp;#10;    {&amp;#10;        &quot;identity&quot;: 9,&amp;#10;        &quot;gender&quot;: &quot;male&quot;,&amp;#10;        &quot;high_trust_img&quot;: &quot;stimuli/0-9-3.jpg&quot;,&amp;#10;        &quot;low_trust_img&quot;: &quot;stimuli/0-9-20.jpg&quot;,&amp;#10;        &quot;range&quot;: 0.78125&amp;#10;    },&amp;#10;    {&amp;#10;        &quot;identity&quot;: 14,&amp;#10;        &quot;gender&quot;: &quot;female&quot;,&amp;#10;        &quot;high_trust_img&quot;: &quot;stimuli/1-14-7.jpg&quot;,&amp;#10;        &quot;low_trust_img&quot;: &quot;stimuli/1-14-10.jpg&quot;,&amp;#10;        &quot;range&quot;: 0.875&amp;#10;    },&amp;#10;    {&amp;#10;        &quot;identity&quot;: 20,&amp;#10;        &quot;gender&quot;: &quot;male&quot;,&amp;#10;        &quot;high_trust_img&quot;: &quot;stimuli/0-20-6.jpg&quot;,&amp;#10;        &quot;low_trust_img&quot;: &quot;stimuli/0-20-19.jpg&quot;,&amp;#10;        &quot;range&quot;: 0.90625&amp;#10;    },&amp;#10;    {&amp;#10;        &quot;identity&quot;: 3,&amp;#10;        &quot;gender&quot;: &quot;male&quot;,&amp;#10;        &quot;high_trust_img&quot;: &quot;stimuli/0-3-4.jpg&quot;,&amp;#10;        &quot;low_trust_img&quot;: &quot;stimuli/0-3-16.jpg&quot;,&amp;#10;        &quot;range&quot;: 0.96875&amp;#10;    },&amp;#10;    {&amp;#10;        &quot;identity&quot;: 25,&amp;#10;        &quot;gender&quot;: &quot;male&quot;,&amp;#10;        &quot;high_trust_img&quot;: &quot;stimuli/0-25-20.jpg&quot;,&amp;#10;        &quot;low_trust_img&quot;: &quot;stimuli/0-25-13.jpg&quot;,&amp;#10;        &quot;range&quot;: 1.15625&amp;#10;    },&amp;#10;    {&amp;#10;        &quot;identity&quot;: 15,&amp;#10;        &quot;gender&quot;: &quot;male&quot;,&amp;#10;        &quot;high_trust_img&quot;: &quot;stimuli/0-15-4.jpg&quot;,&amp;#10;        &quot;low_trust_img&quot;: &quot;stimuli/0-15-18.jpg&quot;,&amp;#10;        &quot;range&quot;: 1.1875&amp;#10;    },&amp;#10;    {&amp;#10;        &quot;identity&quot;: 18,&amp;#10;        &quot;gender&quot;: &quot;male&quot;,&amp;#10;        &quot;high_trust_img&quot;: &quot;stimuli/0-18-9.jpg&quot;,&amp;#10;        &quot;low_trust_img&quot;: &quot;stimuli/0-18-18.jpg&quot;,&amp;#10;        &quot;range&quot;: 1.1875&amp;#10;    },&amp;#10;    {&amp;#10;        &quot;identity&quot;: 23,&amp;#10;        &quot;gender&quot;: &quot;female&quot;,&amp;#10;        &quot;high_trust_img&quot;: &quot;stimuli/1-23-19.jpg&quot;,&amp;#10;        &quot;low_trust_img&quot;: &quot;stimuli/1-23-8.jpg&quot;,&amp;#10;        &quot;range&quot;: 1.28125&amp;#10;    },&amp;#10;    {&amp;#10;        &quot;identity&quot;: 8,&amp;#10;        &quot;gender&quot;: &quot;female&quot;,&amp;#10;        &quot;high_trust_img&quot;: &quot;stimuli/1-8-11.jpg&quot;,&amp;#10;        &quot;low_trust_img&quot;: &quot;stimuli/1-8-15.jpg&quot;,&amp;#10;        &quot;range&quot;: 1.375&amp;#10;    },&amp;#10;    {&amp;#10;        &quot;identity&quot;: 24,&amp;#10;        &quot;gender&quot;: &quot;female&quot;,&amp;#10;        &quot;high_trust_img&quot;: &quot;stimuli/1-24-13.jpg&quot;,&amp;#10;        &quot;low_trust_img&quot;: &quot;stimuli/1-24-5.jpg&quot;,&amp;#10;        &quot;range&quot;: 1.40625&amp;#10;    },&amp;#10;    {&amp;#10;        &quot;identity&quot;: 7,&amp;#10;        &quot;gender&quot;: &quot;female&quot;,&amp;#10;        &quot;high_trust_img&quot;: &quot;stimuli/1-7-18.jpg&quot;,&amp;#10;        &quot;low_trust_img&quot;: &quot;stimuli/1-7-1.jpg&quot;,&amp;#10;        &quot;range&quot;: 1.46875&amp;#10;    },&amp;#10;    {&amp;#10;        &quot;identity&quot;: 16,&amp;#10;        &quot;gender&quot;: &quot;female&quot;,&amp;#10;        &quot;high_trust_img&quot;: &quot;stimuli/1-16-2.jpg&quot;,&amp;#10;        &quot;low_trust_img&quot;: &quot;stimuli/1-16-1.jpg&quot;,&amp;#10;        &quot;range&quot;: 1.5&amp;#10;    }&amp;#10;    // ... 添加您的所有数据&amp;#10;];&amp;#10;&amp;#10;// 分离男性和女性面孔&amp;#10;var male_faces = faces_df.filter(face =&gt; face.gender === 'male')&amp;#10;                        .sort((a, b) =&gt; b.range - a.range); // 按range降序排列&amp;#10;var female_faces = faces_df.filter(face =&gt; face.gender === 'female')&amp;#10;                          .sort((a, b) =&gt; b.range - a.range); // 按range降序排列&amp;#10;&amp;#10;// 获取参与者编号&amp;#10;var participant_id = parseInt(expInfo[&quot;编号*&quot;]);&amp;#10;&amp;#10;// 初始化存储trials数据的数组&amp;#10;var trials_data = [];&amp;#10;&amp;#10;// 处理男性面孔&amp;#10;for (let i = 0; i &lt; male_faces.length; i += 2) {&amp;#10;    if (i + 1 &lt; male_faces.length) { // 确保有配对的人物&amp;#10;        var face1 = male_faces[i];&amp;#10;        var face2 = male_faces[i + 1];&amp;#10;        &amp;#10;        // 根据被试编号和配对索引决定分配方式&amp;#10;        if ((participant_id + Math.floor(i/2)) % 2 === 0) {&amp;#10;            // 人物1到条件1，人物2到条件2&amp;#10;            trials_data.push({...face1, condition: 1});&amp;#10;            trials_data.push({...face2, condition: 2});&amp;#10;        } else {&amp;#10;            // 人物1到条件2，人物2到条件1&amp;#10;            trials_data.push({...face1, condition: 2});&amp;#10;            trials_data.push({...face2, condition: 1});&amp;#10;        }&amp;#10;    }&amp;#10;}&amp;#10;&amp;#10;// 处理女性面孔，使用相同的逻辑&amp;#10;for (let i = 0; i &lt; female_faces.length; i += 2) {&amp;#10;    if (i + 1 &lt; female_faces.length) { // 确保有配对的人物&amp;#10;        var face1 = female_faces[i];&amp;#10;        var face2 = female_faces[i + 1];&amp;#10;        &amp;#10;        // 根据被试编号和配对索引决定分配方式&amp;#10;        if ((participant_id + Math.floor(i/2)) % 2 === 0) {&amp;#10;            trials_data.push({...face1, condition: 1});&amp;#10;            trials_data.push({...face2, condition: 2});&amp;#10;        } else {&amp;#10;            trials_data.push({...face1, condition: 2});&amp;#10;            trials_data.push({...face2, condition: 1});&amp;#10;        }&amp;#10;    }&amp;#10;}&amp;#10;&amp;#10;// 随机化试次顺序&amp;#10;function shuffleArray(array) {&amp;#10;    var shuffled = [...array];&amp;#10;    for (let i = shuffled.length - 1; i &gt; 0; i--) {&amp;#10;        const j = Math.floor(Math.random() * (i + 1));&amp;#10;        [shuffled[i], shuffled[j]] = [shuffled[j], shuffled[i]];&amp;#10;    }&amp;#10;    return shuffled;&amp;#10;}&amp;#10;&amp;#10;trials_data = shuffleArray(trials_data);&amp;#10;&amp;#10;// 检查两个条件下的性别平衡情况&amp;#10;var condition1 = trials_data.filter(trial =&gt; trial.condition === 1);&amp;#10;var condition2 = trials_data.filter(trial =&gt; trial.condition === 2);&amp;#10;&amp;#10;// 计算性别分布&amp;#10;var condition1_male = condition1.filter(trial =&gt; trial.gender === 'male').length;&amp;#10;var condition1_female = condition1.filter(trial =&gt; trial.gender === 'female').length;&amp;#10;var condition2_male = condition2.filter(trial =&gt; trial.gender === 'male').length;&amp;#10;var condition2_female = condition2.filter(trial =&gt; trial.gender === 'female').length;&amp;#10;&amp;#10;// 计算平均range&amp;#10;var condition1_avg_range = condition1.reduce((sum, trial) =&gt; sum + trial.range, 0) / condition1.length;&amp;#10;var condition2_avg_range = condition2.reduce((sum, trial) =&gt; sum + trial.range, 0) / condition2.length;&amp;#10;&amp;#10;// 打印平衡检查结果（在线上实验中可能需要使用console.log）&amp;#10;console.log(`条件1: 男性 = ${condition1_male}, 女性 = ${condition1_female}`);&amp;#10;console.log(`条件2: 男性 = ${condition2_male}, 女性 = ${condition2_female}`);&amp;#10;console.log(`条件1 平均range: ${condition1_avg_range.toFixed(2)}`);&amp;#10;console.log(`条件2 平均range: ${condition2_avg_range.toFixed(2)}`);&amp;#10;&amp;#10;// 在线上实验中，您可能需要将数据存储在全局变量中而不是文件&amp;#10;// 设置全局变量供后续使用&amp;#10;psychoJS.experiment.extraInfo['trials_file'] = trials_data;&amp;#10;&amp;#10;// 创建全局字典存储评分和确定性&amp;#10;var T1_ratings = {};&amp;#10;var T1_confidence = {};&amp;#10;&amp;#10;// 确保变量被添加到全局作用域&amp;#10;window.T1_ratings = T1_ratings;&amp;#10;window.T1_confidence = T1_confidence;&amp;#10;window.trials_data = trials_data;&amp;#10;&amp;#10;&amp;#10;// 如果需要创建TrialHandler，可以使用以下方式：&amp;#10;// var trialHandler = new data.TrialHandler({&amp;#10;//     trialList: trials_data,&amp;#10;//     nReps: 1,&amp;#10;//     method: data.TrialHandler.Method.SEQUENTIAL&amp;#10;// });" valType="extendedCode"/>
        <Param name="Begin JS Routine" updates="constant" val="" valType="extendedCode"/>
        <Param name="Begin Routine" updates="constant" val="" valType="extendedCode"/>
        <Param name="Code Type" updates="None" val="Both" valType="str"/>
        <Param name="Each Frame" updates="constant" val="" valType="extendedCode"/>
        <Param name="Each JS Frame" updates="constant" val="" valType="extendedCode"/>
        <Param name="End Experiment" updates="constant" val="" valType="extendedCode"/>
        <Param name="End JS Experiment" updates="constant" val="" valType="extendedCode"/>
        <Param name="End JS Routine" updates="constant" val="" valType="extendedCode"/>
        <Param name="End Routine" updates="constant" val="" valType="extendedCode"/>
        <Param name="disabled" updates="None" val="False" valType="bool"/>
        <Param name="name" updates="None" val="code_instru" valType="code"/>
      </CodeComponent>
      <KeyboardComponent name="instru_key_resp">
        <Param name="allowedKeys" updates="constant" val="'space'" valType="list"/>
        <Param name="correctAns" updates="constant" val="" valType="str"/>
        <Param name="disabled" updates="None" val="False" valType="bool"/>
        <Param name="discard previous" updates="constant" val="True" valType="bool"/>
        <Param name="durationEstim" updates="None" val="" valType="code"/>
        <Param name="forceEndRoutine" updates="constant" val="True" valType="bool"/>
        <Param name="name" updates="None" val="instru_key_resp" valType="code"/>
        <Param name="saveStartStop" updates="None" val="True" valType="bool"/>
        <Param name="startEstim" updates="None" val="" valType="code"/>
        <Param name="startType" updates="None" val="time (s)" valType="str"/>
        <Param name="startVal" updates="None" val="0.0" valType="code"/>
        <Param name="stopType" updates="None" val="duration (s)" valType="str"/>
        <Param name="stopVal" updates="constant" val="" valType="code"/>
        <Param name="store" updates="constant" val="last key" valType="str"/>
        <Param name="storeCorrect" updates="constant" val="False" valType="bool"/>
        <Param name="syncScreenRefresh" updates="constant" val="True" valType="bool"/>
      </KeyboardComponent>
    </Routine>
    <Routine name="image1">
      <CodeComponent name="code_t1">
        <Param name="Before Experiment" updates="constant" val="" valType="extendedCode"/>
        <Param name="Before JS Experiment" updates="constant" val="" valType="extendedCode"/>
        <Param name="Begin Experiment" updates="constant" val="" valType="extendedCode"/>
        <Param name="Begin JS Experiment" updates="constant" val="" valType="extendedCode"/>
        <Param name="Begin JS Routine" updates="constant" val="// 根据条件选择对应的图片&amp;#10;if (thisTrial['condition'] === 1) {&amp;#10;    current_img = thisTrial['high_trust_img'];  // 高可信面孔&amp;#10;} else {&amp;#10;    current_img = thisTrial['low_trust_img'];  // 低可信面孔&amp;#10;}&amp;#10;&amp;#10;// 记录当前trial的信息，供下个routine使用&amp;#10;psychoJS.experiment.addData('first_image', current_img);&amp;#10;psychoJS.experiment.addData('identity', thisTrial['identity']);&amp;#10;psychoJS.experiment.addData('condition', thisTrial['condition']);" valType="extendedCode"/>
        <Param name="Begin Routine" updates="constant" val="# Begin Routine&amp;#10;&amp;#10;if thisTrial['condition'] == 1:&amp;#10;    current_img = thisTrial['high_trust_img']  # 高可信面孔&amp;#10;else:&amp;#10;    current_img = thisTrial['low_trust_img']  # 低可信面孔&amp;#10;    &amp;#10;# 记录当前trial的信息，供下个routine使用&amp;#10;thisExp.addData('first_image', current_img)&amp;#10;thisExp.addData('identity', thisTrial['identity'])&amp;#10;thisExp.addData('condition', thisTrial['condition'])" valType="extendedCode"/>
        <Param name="Code Type" updates="None" val="Both" valType="str"/>
        <Param name="Each Frame" updates="constant" val="" valType="extendedCode"/>
        <Param name="Each JS Frame" updates="constant" val="" valType="extendedCode"/>
        <Param name="End Experiment" updates="constant" val="" valType="extendedCode"/>
        <Param name="End JS Experiment" updates="constant" val="" valType="extendedCode"/>
        <Param name="End JS Routine" updates="constant" val="// 将按键转换为数字评分&amp;#10;var t1_rating = null;&amp;#10;if (rating_T1_keys.keys &amp;&amp; rating_T1_keys.keys.length &gt; 0) {&amp;#10;    // 获取最后一次按键&amp;#10;    var lastKey = rating_T1_keys.keys[rating_T1_keys.keys.length - 1];&amp;#10;    t1_rating = parseInt(lastKey);&amp;#10;} else {&amp;#10;    t1_rating = null;&amp;#10;}&amp;#10;&amp;#10;// 保存评分到全局字典&amp;#10;window.T1_ratings[String(thisTrial['identity'])] = t1_rating;&amp;#10;&amp;#10;// 保存评分到数据文件&amp;#10;psychoJS.experiment.addData('rating_T1', t1_rating);" valType="extendedCode"/>
        <Param name="End Routine" updates="constant" val="# 将按键转换为数字评分&amp;#10;if rating_T1_keys.keys:&amp;#10;    t1_rating = int(rating_T1_keys.keys)&amp;#10;else:&amp;#10;    t1_rating = None&amp;#10;&amp;#10;# 保存评分到全局字典&amp;#10;T1_ratings[str(thisTrial['identity'])] = t1_rating&amp;#10;&amp;#10;# 保存评分到数据文件&amp;#10;thisExp.addData('rating_T1', t1_rating)" valType="extendedCode"/>
        <Param name="disabled" updates="None" val="False" valType="bool"/>
        <Param name="name" updates="None" val="code_t1" valType="code"/>
      </CodeComponent>
      <TextComponent name="img1_instr">
        <Param name="color" updates="constant" val="white" valType="color"/>
        <Param name="colorSpace" updates="constant" val="rgb" valType="str"/>
        <Param name="contrast" updates="constant" val="1" valType="num"/>
        <Param name="disabled" updates="None" val="False" valType="bool"/>
        <Param name="durationEstim" updates="None" val="" valType="code"/>
        <Param name="flip" updates="constant" val="None" valType="str"/>
        <Param name="font" updates="constant" val="Open Sans" valType="str"/>
        <Param name="languageStyle" updates="None" val="LTR" valType="str"/>
        <Param name="letterHeight" updates="constant" val="0.03" valType="num"/>
        <Param name="name" updates="None" val="img1_instr" valType="code"/>
        <Param name="opacity" updates="constant" val="" valType="num"/>
        <Param name="ori" updates="constant" val="0" valType="num"/>
        <Param name="pos" updates="constant" val="(0, -0.15)" valType="list"/>
        <Param name="saveStartStop" updates="None" val="True" valType="bool"/>
        <Param name="startEstim" updates="None" val="" valType="code"/>
        <Param name="startType" updates="None" val="time (s)" valType="str"/>
        <Param name="startVal" updates="None" val="0.0" valType="code"/>
        <Param name="stopType" updates="None" val="duration (s)" valType="str"/>
        <Param name="stopVal" updates="constant" val="" valType="code"/>
        <Param name="syncScreenRefresh" updates="None" val="True" valType="bool"/>
        <Param name="text" updates="constant" val="你愿意与这位卖家进行交易吗？" valType="str"/>
        <Param name="units" updates="None" val="from exp settings" valType="str"/>
        <Param name="wrapWidth" updates="constant" val="" valType="num"/>
      </TextComponent>
      <ImageComponent name="image_t1">
        <Param name="color" updates="constant" val="$[1,1,1]" valType="color"/>
        <Param name="colorSpace" updates="constant" val="rgb" valType="str"/>
        <Param name="contrast" updates="constant" val="1" valType="num"/>
        <Param name="disabled" updates="None" val="False" valType="bool"/>
        <Param name="durationEstim" updates="None" val="" valType="code"/>
        <Param name="flipHoriz" updates="constant" val="False" valType="bool"/>
        <Param name="flipVert" updates="constant" val="False" valType="bool"/>
        <Param name="image" updates="set every repeat" val="$current_img" valType="file"/>
        <Param name="interpolate" updates="constant" val="linear" valType="str"/>
        <Param name="mask" updates="constant" val="" valType="str"/>
        <Param name="name" updates="None" val="image_t1" valType="code"/>
        <Param name="opacity" updates="constant" val="" valType="num"/>
        <Param name="ori" updates="constant" val="0" valType="num"/>
        <Param name="pos" updates="constant" val="(0, 0.1)" valType="list"/>
        <Param name="saveStartStop" updates="None" val="True" valType="bool"/>
        <Param name="size" updates="constant" val="(0.27, 0.37)" valType="list"/>
        <Param name="startEstim" updates="None" val="" valType="code"/>
        <Param name="startType" updates="None" val="time (s)" valType="str"/>
        <Param name="startVal" updates="None" val="0.0" valType="code"/>
        <Param name="stopType" updates="None" val="duration (s)" valType="str"/>
        <Param name="stopVal" updates="constant" val="" valType="code"/>
        <Param name="syncScreenRefresh" updates="None" val="True" valType="bool"/>
        <Param name="texture resolution" updates="constant" val="128" valType="num"/>
        <Param name="units" updates="None" val="from exp settings" valType="str"/>
      </ImageComponent>
      <KeyboardComponent name="rating_T1_keys">
        <Param name="allowedKeys" updates="constant" val="'1','2','3','4','5','6','7','8','9'" valType="list"/>
        <Param name="correctAns" updates="constant" val="" valType="str"/>
        <Param name="disabled" updates="None" val="False" valType="bool"/>
        <Param name="discard previous" updates="constant" val="True" valType="bool"/>
        <Param name="durationEstim" updates="None" val="" valType="code"/>
        <Param name="forceEndRoutine" updates="constant" val="True" valType="bool"/>
        <Param name="name" updates="None" val="rating_T1_keys" valType="code"/>
        <Param name="saveStartStop" updates="None" val="True" valType="bool"/>
        <Param name="startEstim" updates="None" val="" valType="code"/>
        <Param name="startType" updates="None" val="time (s)" valType="str"/>
        <Param name="startVal" updates="None" val="0.0" valType="code"/>
        <Param name="stopType" updates="None" val="duration (s)" valType="str"/>
        <Param name="stopVal" updates="constant" val="" valType="code"/>
        <Param name="store" updates="constant" val="last key" valType="str"/>
        <Param name="storeCorrect" updates="constant" val="False" valType="bool"/>
        <Param name="syncScreenRefresh" updates="constant" val="True" valType="bool"/>
      </KeyboardComponent>
      <ImageComponent name="slider_image">
        <Param name="color" updates="constant" val="$[1,1,1]" valType="color"/>
        <Param name="colorSpace" updates="constant" val="rgb" valType="str"/>
        <Param name="contrast" updates="constant" val="1" valType="num"/>
        <Param name="disabled" updates="None" val="False" valType="bool"/>
        <Param name="durationEstim" updates="None" val="" valType="code"/>
        <Param name="flipHoriz" updates="constant" val="False" valType="bool"/>
        <Param name="flipVert" updates="constant" val="False" valType="bool"/>
        <Param name="image" updates="constant" val="slider.jpg" valType="file"/>
        <Param name="interpolate" updates="constant" val="linear" valType="str"/>
        <Param name="mask" updates="constant" val="" valType="str"/>
        <Param name="name" updates="None" val="slider_image" valType="code"/>
        <Param name="opacity" updates="constant" val="" valType="num"/>
        <Param name="ori" updates="constant" val="0" valType="num"/>
        <Param name="pos" updates="constant" val="(0, -0.37)" valType="list"/>
        <Param name="saveStartStop" updates="None" val="True" valType="bool"/>
        <Param name="size" updates="constant" val="(0.9, 0.1)" valType="list"/>
        <Param name="startEstim" updates="None" val="" valType="code"/>
        <Param name="startType" updates="None" val="time (s)" valType="str"/>
        <Param name="startVal" updates="None" val="0.0" valType="code"/>
        <Param name="stopType" updates="None" val="duration (s)" valType="str"/>
        <Param name="stopVal" updates="constant" val="" valType="code"/>
        <Param name="syncScreenRefresh" updates="None" val="True" valType="bool"/>
        <Param name="texture resolution" updates="constant" val="128" valType="num"/>
        <Param name="units" updates="None" val="from exp settings" valType="str"/>
      </ImageComponent>
      <TextComponent name="img1_one">
        <Param name="color" updates="constant" val="white" valType="color"/>
        <Param name="colorSpace" updates="constant" val="rgb" valType="str"/>
        <Param name="contrast" updates="constant" val="1" valType="num"/>
        <Param name="disabled" updates="None" val="False" valType="bool"/>
        <Param name="durationEstim" updates="None" val="" valType="code"/>
        <Param name="flip" updates="constant" val="None" valType="str"/>
        <Param name="font" updates="constant" val="Open Sans" valType="str"/>
        <Param name="languageStyle" updates="None" val="LTR" valType="str"/>
        <Param name="letterHeight" updates="constant" val="0.02" valType="num"/>
        <Param name="name" updates="None" val="img1_one" valType="code"/>
        <Param name="opacity" updates="constant" val="" valType="num"/>
        <Param name="ori" updates="constant" val="0" valType="num"/>
        <Param name="pos" updates="constant" val="(-0.45, -0.27)" valType="list"/>
        <Param name="saveStartStop" updates="None" val="True" valType="bool"/>
        <Param name="startEstim" updates="None" val="" valType="code"/>
        <Param name="startType" updates="None" val="time (s)" valType="str"/>
        <Param name="startVal" updates="None" val="0.0" valType="code"/>
        <Param name="stopType" updates="None" val="duration (s)" valType="str"/>
        <Param name="stopVal" updates="constant" val="" valType="code"/>
        <Param name="syncScreenRefresh" updates="None" val="True" valType="bool"/>
        <Param name="text" updates="constant" val="非常不愿意" valType="str"/>
        <Param name="units" updates="None" val="from exp settings" valType="str"/>
        <Param name="wrapWidth" updates="constant" val="" valType="num"/>
      </TextComponent>
      <TextComponent name="img1_three">
        <Param name="color" updates="constant" val="white" valType="color"/>
        <Param name="colorSpace" updates="constant" val="rgb" valType="str"/>
        <Param name="contrast" updates="constant" val="1" valType="num"/>
        <Param name="disabled" updates="None" val="False" valType="bool"/>
        <Param name="durationEstim" updates="None" val="" valType="code"/>
        <Param name="flip" updates="constant" val="None" valType="str"/>
        <Param name="font" updates="constant" val="Open Sans" valType="str"/>
        <Param name="languageStyle" updates="None" val="LTR" valType="str"/>
        <Param name="letterHeight" updates="constant" val="0.02" valType="num"/>
        <Param name="name" updates="None" val="img1_three" valType="code"/>
        <Param name="opacity" updates="constant" val="" valType="num"/>
        <Param name="ori" updates="constant" val="0" valType="num"/>
        <Param name="pos" updates="constant" val="(-0.225, -0.27)" valType="list"/>
        <Param name="saveStartStop" updates="None" val="True" valType="bool"/>
        <Param name="startEstim" updates="None" val="" valType="code"/>
        <Param name="startType" updates="None" val="time (s)" valType="str"/>
        <Param name="startVal" updates="None" val="0.0" valType="code"/>
        <Param name="stopType" updates="None" val="duration (s)" valType="str"/>
        <Param name="stopVal" updates="constant" val="" valType="code"/>
        <Param name="syncScreenRefresh" updates="None" val="True" valType="bool"/>
        <Param name="text" updates="constant" val="比较不愿意" valType="str"/>
        <Param name="units" updates="None" val="from exp settings" valType="str"/>
        <Param name="wrapWidth" updates="constant" val="" valType="num"/>
      </TextComponent>
      <TextComponent name="img1_five">
        <Param name="color" updates="constant" val="white" valType="color"/>
        <Param name="colorSpace" updates="constant" val="rgb" valType="str"/>
        <Param name="contrast" updates="constant" val="1" valType="num"/>
        <Param name="disabled" updates="None" val="False" valType="bool"/>
        <Param name="durationEstim" updates="None" val="" valType="code"/>
        <Param name="flip" updates="constant" val="None" valType="str"/>
        <Param name="font" updates="constant" val="Open Sans" valType="str"/>
        <Param name="languageStyle" updates="None" val="LTR" valType="str"/>
        <Param name="letterHeight" updates="constant" val="0.02" valType="num"/>
        <Param name="name" updates="None" val="img1_five" valType="code"/>
        <Param name="opacity" updates="constant" val="" valType="num"/>
        <Param name="ori" updates="constant" val="0" valType="num"/>
        <Param name="pos" updates="constant" val="(0, -0.27)" valType="list"/>
        <Param name="saveStartStop" updates="None" val="True" valType="bool"/>
        <Param name="startEstim" updates="None" val="" valType="code"/>
        <Param name="startType" updates="None" val="time (s)" valType="str"/>
        <Param name="startVal" updates="None" val="0.0" valType="code"/>
        <Param name="stopType" updates="None" val="duration (s)" valType="str"/>
        <Param name="stopVal" updates="constant" val="" valType="code"/>
        <Param name="syncScreenRefresh" updates="None" val="True" valType="bool"/>
        <Param name="text" updates="constant" val="中立" valType="str"/>
        <Param name="units" updates="None" val="from exp settings" valType="str"/>
        <Param name="wrapWidth" updates="constant" val="" valType="num"/>
      </TextComponent>
      <TextComponent name="img1_seven">
        <Param name="color" updates="constant" val="white" valType="color"/>
        <Param name="colorSpace" updates="constant" val="rgb" valType="str"/>
        <Param name="contrast" updates="constant" val="1" valType="num"/>
        <Param name="disabled" updates="None" val="False" valType="bool"/>
        <Param name="durationEstim" updates="None" val="" valType="code"/>
        <Param name="flip" updates="constant" val="None" valType="str"/>
        <Param name="font" updates="constant" val="Open Sans" valType="str"/>
        <Param name="languageStyle" updates="None" val="LTR" valType="str"/>
        <Param name="letterHeight" updates="constant" val="0.02" valType="num"/>
        <Param name="name" updates="None" val="img1_seven" valType="code"/>
        <Param name="opacity" updates="constant" val="" valType="num"/>
        <Param name="ori" updates="constant" val="0" valType="num"/>
        <Param name="pos" updates="constant" val="(0.225, -0.27)" valType="list"/>
        <Param name="saveStartStop" updates="None" val="True" valType="bool"/>
        <Param name="startEstim" updates="None" val="" valType="code"/>
        <Param name="startType" updates="None" val="time (s)" valType="str"/>
        <Param name="startVal" updates="None" val="0.0" valType="code"/>
        <Param name="stopType" updates="None" val="duration (s)" valType="str"/>
        <Param name="stopVal" updates="constant" val="" valType="code"/>
        <Param name="syncScreenRefresh" updates="None" val="True" valType="bool"/>
        <Param name="text" updates="constant" val="比较愿意" valType="str"/>
        <Param name="units" updates="None" val="from exp settings" valType="str"/>
        <Param name="wrapWidth" updates="constant" val="" valType="num"/>
      </TextComponent>
      <TextComponent name="img1_nine">
        <Param name="color" updates="constant" val="white" valType="color"/>
        <Param name="colorSpace" updates="constant" val="rgb" valType="str"/>
        <Param name="contrast" updates="constant" val="1" valType="num"/>
        <Param name="disabled" updates="None" val="False" valType="bool"/>
        <Param name="durationEstim" updates="None" val="" valType="code"/>
        <Param name="flip" updates="constant" val="None" valType="str"/>
        <Param name="font" updates="constant" val="Open Sans" valType="str"/>
        <Param name="languageStyle" updates="None" val="LTR" valType="str"/>
        <Param name="letterHeight" updates="constant" val="0.02" valType="num"/>
        <Param name="name" updates="None" val="img1_nine" valType="code"/>
        <Param name="opacity" updates="constant" val="" valType="num"/>
        <Param name="ori" updates="constant" val="0" valType="num"/>
        <Param name="pos" updates="constant" val="(0.45, -0.27)" valType="list"/>
        <Param name="saveStartStop" updates="None" val="True" valType="bool"/>
        <Param name="startEstim" updates="None" val="" valType="code"/>
        <Param name="startType" updates="None" val="time (s)" valType="str"/>
        <Param name="startVal" updates="None" val="0.0" valType="code"/>
        <Param name="stopType" updates="None" val="duration (s)" valType="str"/>
        <Param name="stopVal" updates="constant" val="" valType="code"/>
        <Param name="syncScreenRefresh" updates="None" val="True" valType="bool"/>
        <Param name="text" updates="constant" val="非常愿意" valType="str"/>
        <Param name="units" updates="None" val="from exp settings" valType="str"/>
        <Param name="wrapWidth" updates="constant" val="" valType="num"/>
      </TextComponent>
    </Routine>
    <Routine name="image2">
      <CodeComponent name="code_t2">
        <Param name="Before Experiment" updates="constant" val="" valType="extendedCode"/>
        <Param name="Before JS Experiment" updates="constant" val="" valType="extendedCode"/>
        <Param name="Begin Experiment" updates="constant" val="" valType="extendedCode"/>
        <Param name="Begin JS Experiment" updates="constant" val="" valType="extendedCode"/>
        <Param name="Begin JS Routine" updates="constant" val="// 根据条件决定显示哪张图片&amp;#10;if (thisTrial['condition'] === 1) {&amp;#10;    current_img = thisTrial['low_trust_img'];  // 低可信面孔&amp;#10;} else {&amp;#10;    current_img = thisTrial['high_trust_img'];  // 高可信面孔&amp;#10;}&amp;#10;    &amp;#10;// 记录当前trial的第二张图片&amp;#10;psychoJS.experiment.addData('second_image', current_img);" valType="extendedCode"/>
        <Param name="Begin Routine" updates="constant" val="# Begin Routine&amp;#10;&amp;#10;&amp;#10;# 根据条件决定显示哪张图片&amp;#10;if thisTrial['condition'] == 1:&amp;#10;    current_img = thisTrial['low_trust_img']  # 低可信面孔&amp;#10;else:&amp;#10;    current_img = thisTrial['high_trust_img']  # 高可信面孔&amp;#10;    &amp;#10;# 记录当前trial的第二张图片&amp;#10;thisExp.addData('second_image', current_img)" valType="extendedCode"/>
        <Param name="Code Type" updates="None" val="Both" valType="str"/>
        <Param name="Each Frame" updates="constant" val="" valType="extendedCode"/>
        <Param name="Each JS Frame" updates="constant" val="" valType="extendedCode"/>
        <Param name="End Experiment" updates="constant" val="" valType="extendedCode"/>
        <Param name="End JS Experiment" updates="constant" val="" valType="extendedCode"/>
        <Param name="End JS Routine" updates="constant" val="// End Routine&amp;#10;&amp;#10;// 获取T1的评分（从全局字典中）&amp;#10;var t1_rating = null;&amp;#10;if (typeof T1_ratings !== 'undefined' &amp;&amp; T1_ratings[String(thisTrial['identity'])]) {&amp;#10;    t1_rating = T1_ratings[String(thisTrial['identity'])];&amp;#10;}&amp;#10;&amp;#10;// 获取T2评分&amp;#10;var t2_rating = null;&amp;#10;if (rating_T2_keys &amp;&amp; rating_T2_keys.keys) {&amp;#10;    if (Array.isArray(rating_T2_keys.keys)) {&amp;#10;        // 如果keys是数组，取最后一次按键&amp;#10;        if (rating_T2_keys.keys.length &gt; 0) {&amp;#10;            var lastKey = rating_T2_keys.keys[rating_T2_keys.keys.length - 1];&amp;#10;            t2_rating = parseInt(lastKey);&amp;#10;        }&amp;#10;    } else {&amp;#10;        // 如果keys是单个值&amp;#10;        t2_rating = parseInt(rating_T2_keys.keys);&amp;#10;    }&amp;#10;}&amp;#10;&amp;#10;// 计算评分变化（需要防止null值）&amp;#10;var rating_change = null;&amp;#10;if (t1_rating !== null &amp;&amp; t2_rating !== null) {&amp;#10;    rating_change = t2_rating - t1_rating;&amp;#10;}&amp;#10;&amp;#10;// 保存数据到实验文件&amp;#10;psychoJS.experiment.addData('rating_T2', t2_rating);&amp;#10;psychoJS.experiment.addData('rating_change', rating_change);&amp;#10;&amp;#10;// 记录反应时间（可选）&amp;#10;if (rating_T2_keys &amp;&amp; rating_T2_keys.rt) {&amp;#10;    var t2_rt = Array.isArray(rating_T2_keys.rt) ? &amp;#10;                rating_T2_keys.rt[rating_T2_keys.rt.length - 1] : &amp;#10;                rating_T2_keys.rt;&amp;#10;    psychoJS.experiment.addData('rating_T2_rt', t2_rt);&amp;#10;}" valType="extendedCode"/>
        <Param name="End Routine" updates="constant" val="# End Routine&amp;#10;# 获取T1的评分&amp;#10;t1_rating = T1_ratings[str(thisTrial['identity'])]&amp;#10;&amp;#10;# 获取T2评分&amp;#10;if rating_T2_keys.keys:&amp;#10;    t2_rating = int(rating_T2_keys.keys)&amp;#10;else:&amp;#10;    t2_rating = None&amp;#10;&amp;#10;# 计算评分变化（需要防止None值）&amp;#10;if t1_rating is not None and t2_rating is not None:&amp;#10;    rating_change = t2_rating - t1_rating&amp;#10;else:&amp;#10;    rating_change = None&amp;#10;&amp;#10;# 保存数据&amp;#10;thisExp.addData('rating_T2', t2_rating)&amp;#10;thisExp.addData('rating_change', rating_change)" valType="extendedCode"/>
        <Param name="disabled" updates="None" val="False" valType="bool"/>
        <Param name="name" updates="None" val="code_t2" valType="code"/>
      </CodeComponent>
      <TextComponent name="img2_instr">
        <Param name="color" updates="constant" val="white" valType="color"/>
        <Param name="colorSpace" updates="constant" val="rgb" valType="str"/>
        <Param name="contrast" updates="constant" val="1" valType="num"/>
        <Param name="disabled" updates="None" val="False" valType="bool"/>
        <Param name="durationEstim" updates="None" val="" valType="code"/>
        <Param name="flip" updates="constant" val="None" valType="str"/>
        <Param name="font" updates="constant" val="Open Sans" valType="str"/>
        <Param name="languageStyle" updates="None" val="LTR" valType="str"/>
        <Param name="letterHeight" updates="constant" val="0.03" valType="num"/>
        <Param name="name" updates="None" val="img2_instr" valType="code"/>
        <Param name="opacity" updates="constant" val="" valType="num"/>
        <Param name="ori" updates="constant" val="0" valType="num"/>
        <Param name="pos" updates="constant" val="(0, -0.15)" valType="list"/>
        <Param name="saveStartStop" updates="None" val="True" valType="bool"/>
        <Param name="startEstim" updates="None" val="" valType="code"/>
        <Param name="startType" updates="None" val="time (s)" valType="str"/>
        <Param name="startVal" updates="None" val="0.0" valType="code"/>
        <Param name="stopType" updates="None" val="duration (s)" valType="str"/>
        <Param name="stopVal" updates="constant" val="" valType="code"/>
        <Param name="syncScreenRefresh" updates="None" val="True" valType="bool"/>
        <Param name="text" updates="constant" val="你愿意与这位卖家进行交易吗？" valType="str"/>
        <Param name="units" updates="None" val="from exp settings" valType="str"/>
        <Param name="wrapWidth" updates="constant" val="" valType="num"/>
      </TextComponent>
      <ImageComponent name="image_t2">
        <Param name="color" updates="constant" val="$[1,1,1]" valType="color"/>
        <Param name="colorSpace" updates="constant" val="rgb" valType="str"/>
        <Param name="contrast" updates="constant" val="1" valType="num"/>
        <Param name="disabled" updates="None" val="False" valType="bool"/>
        <Param name="durationEstim" updates="None" val="" valType="code"/>
        <Param name="flipHoriz" updates="constant" val="False" valType="bool"/>
        <Param name="flipVert" updates="constant" val="False" valType="bool"/>
        <Param name="image" updates="set every repeat" val="$current_img" valType="file"/>
        <Param name="interpolate" updates="constant" val="linear" valType="str"/>
        <Param name="mask" updates="constant" val="" valType="str"/>
        <Param name="name" updates="None" val="image_t2" valType="code"/>
        <Param name="opacity" updates="constant" val="" valType="num"/>
        <Param name="ori" updates="constant" val="0" valType="num"/>
        <Param name="pos" updates="constant" val="(0, 0.1)" valType="list"/>
        <Param name="saveStartStop" updates="None" val="True" valType="bool"/>
        <Param name="size" updates="constant" val="(0.27, 0.37)" valType="list"/>
        <Param name="startEstim" updates="None" val="" valType="code"/>
        <Param name="startType" updates="None" val="time (s)" valType="str"/>
        <Param name="startVal" updates="None" val="0.0" valType="code"/>
        <Param name="stopType" updates="None" val="duration (s)" valType="str"/>
        <Param name="stopVal" updates="constant" val="" valType="code"/>
        <Param name="syncScreenRefresh" updates="None" val="True" valType="bool"/>
        <Param name="texture resolution" updates="constant" val="128" valType="num"/>
        <Param name="units" updates="None" val="from exp settings" valType="str"/>
      </ImageComponent>
      <KeyboardComponent name="rating_T2_keys">
        <Param name="allowedKeys" updates="constant" val="'1','2','3','4','5','6','7','8','9'" valType="list"/>
        <Param name="correctAns" updates="constant" val="" valType="str"/>
        <Param name="disabled" updates="None" val="False" valType="bool"/>
        <Param name="discard previous" updates="constant" val="True" valType="bool"/>
        <Param name="durationEstim" updates="None" val="" valType="code"/>
        <Param name="forceEndRoutine" updates="constant" val="True" valType="bool"/>
        <Param name="name" updates="None" val="rating_T2_keys" valType="code"/>
        <Param name="saveStartStop" updates="None" val="True" valType="bool"/>
        <Param name="startEstim" updates="None" val="" valType="code"/>
        <Param name="startType" updates="None" val="time (s)" valType="str"/>
        <Param name="startVal" updates="None" val="0.0" valType="code"/>
        <Param name="stopType" updates="None" val="duration (s)" valType="str"/>
        <Param name="stopVal" updates="constant" val="" valType="code"/>
        <Param name="store" updates="constant" val="last key" valType="str"/>
        <Param name="storeCorrect" updates="constant" val="False" valType="bool"/>
        <Param name="syncScreenRefresh" updates="constant" val="True" valType="bool"/>
      </KeyboardComponent>
      <ImageComponent name="slider_image_t2">
        <Param name="color" updates="constant" val="$[1,1,1]" valType="color"/>
        <Param name="colorSpace" updates="constant" val="rgb" valType="str"/>
        <Param name="contrast" updates="constant" val="1" valType="num"/>
        <Param name="disabled" updates="None" val="False" valType="bool"/>
        <Param name="durationEstim" updates="None" val="" valType="code"/>
        <Param name="flipHoriz" updates="constant" val="False" valType="bool"/>
        <Param name="flipVert" updates="constant" val="False" valType="bool"/>
        <Param name="image" updates="constant" val="slider.jpg" valType="file"/>
        <Param name="interpolate" updates="constant" val="linear" valType="str"/>
        <Param name="mask" updates="constant" val="" valType="str"/>
        <Param name="name" updates="None" val="slider_image_t2" valType="code"/>
        <Param name="opacity" updates="constant" val="" valType="num"/>
        <Param name="ori" updates="constant" val="0" valType="num"/>
        <Param name="pos" updates="constant" val="(0, -0.37)" valType="list"/>
        <Param name="saveStartStop" updates="None" val="True" valType="bool"/>
        <Param name="size" updates="constant" val="(0.9, 0.1)" valType="list"/>
        <Param name="startEstim" updates="None" val="" valType="code"/>
        <Param name="startType" updates="None" val="time (s)" valType="str"/>
        <Param name="startVal" updates="None" val="0.0" valType="code"/>
        <Param name="stopType" updates="None" val="duration (s)" valType="str"/>
        <Param name="stopVal" updates="constant" val="" valType="code"/>
        <Param name="syncScreenRefresh" updates="None" val="True" valType="bool"/>
        <Param name="texture resolution" updates="constant" val="128" valType="num"/>
        <Param name="units" updates="None" val="from exp settings" valType="str"/>
      </ImageComponent>
      <TextComponent name="img2_one">
        <Param name="color" updates="constant" val="white" valType="color"/>
        <Param name="colorSpace" updates="constant" val="rgb" valType="str"/>
        <Param name="contrast" updates="constant" val="1" valType="num"/>
        <Param name="disabled" updates="None" val="False" valType="bool"/>
        <Param name="durationEstim" updates="None" val="" valType="code"/>
        <Param name="flip" updates="constant" val="None" valType="str"/>
        <Param name="font" updates="constant" val="Open Sans" valType="str"/>
        <Param name="languageStyle" updates="None" val="LTR" valType="str"/>
        <Param name="letterHeight" updates="constant" val="0.02" valType="num"/>
        <Param name="name" updates="None" val="img2_one" valType="code"/>
        <Param name="opacity" updates="constant" val="" valType="num"/>
        <Param name="ori" updates="constant" val="0" valType="num"/>
        <Param name="pos" updates="constant" val="(-0.45, -0.27)" valType="list"/>
        <Param name="saveStartStop" updates="None" val="True" valType="bool"/>
        <Param name="startEstim" updates="None" val="" valType="code"/>
        <Param name="startType" updates="None" val="time (s)" valType="str"/>
        <Param name="startVal" updates="None" val="0.0" valType="code"/>
        <Param name="stopType" updates="None" val="duration (s)" valType="str"/>
        <Param name="stopVal" updates="constant" val="" valType="code"/>
        <Param name="syncScreenRefresh" updates="None" val="True" valType="bool"/>
        <Param name="text" updates="constant" val="非常不愿意" valType="str"/>
        <Param name="units" updates="None" val="from exp settings" valType="str"/>
        <Param name="wrapWidth" updates="constant" val="" valType="num"/>
      </TextComponent>
      <TextComponent name="img2_three">
        <Param name="color" updates="constant" val="white" valType="color"/>
        <Param name="colorSpace" updates="constant" val="rgb" valType="str"/>
        <Param name="contrast" updates="constant" val="1" valType="num"/>
        <Param name="disabled" updates="None" val="False" valType="bool"/>
        <Param name="durationEstim" updates="None" val="" valType="code"/>
        <Param name="flip" updates="constant" val="None" valType="str"/>
        <Param name="font" updates="constant" val="Open Sans" valType="str"/>
        <Param name="languageStyle" updates="None" val="LTR" valType="str"/>
        <Param name="letterHeight" updates="constant" val="0.02" valType="num"/>
        <Param name="name" updates="None" val="img2_three" valType="code"/>
        <Param name="opacity" updates="constant" val="" valType="num"/>
        <Param name="ori" updates="constant" val="0" valType="num"/>
        <Param name="pos" updates="constant" val="(-0.225, -0.27)" valType="list"/>
        <Param name="saveStartStop" updates="None" val="True" valType="bool"/>
        <Param name="startEstim" updates="None" val="" valType="code"/>
        <Param name="startType" updates="None" val="time (s)" valType="str"/>
        <Param name="startVal" updates="None" val="0.0" valType="code"/>
        <Param name="stopType" updates="None" val="duration (s)" valType="str"/>
        <Param name="stopVal" updates="constant" val="" valType="code"/>
        <Param name="syncScreenRefresh" updates="None" val="True" valType="bool"/>
        <Param name="text" updates="constant" val="比较不愿意" valType="str"/>
        <Param name="units" updates="None" val="from exp settings" valType="str"/>
        <Param name="wrapWidth" updates="constant" val="" valType="num"/>
      </TextComponent>
      <TextComponent name="img2_five">
        <Param name="color" updates="constant" val="white" valType="color"/>
        <Param name="colorSpace" updates="constant" val="rgb" valType="str"/>
        <Param name="contrast" updates="constant" val="1" valType="num"/>
        <Param name="disabled" updates="None" val="False" valType="bool"/>
        <Param name="durationEstim" updates="None" val="" valType="code"/>
        <Param name="flip" updates="constant" val="None" valType="str"/>
        <Param name="font" updates="constant" val="Open Sans" valType="str"/>
        <Param name="languageStyle" updates="None" val="LTR" valType="str"/>
        <Param name="letterHeight" updates="constant" val="0.02" valType="num"/>
        <Param name="name" updates="None" val="img2_five" valType="code"/>
        <Param name="opacity" updates="constant" val="" valType="num"/>
        <Param name="ori" updates="constant" val="0" valType="num"/>
        <Param name="pos" updates="constant" val="(0, -0.27)" valType="list"/>
        <Param name="saveStartStop" updates="None" val="True" valType="bool"/>
        <Param name="startEstim" updates="None" val="" valType="code"/>
        <Param name="startType" updates="None" val="time (s)" valType="str"/>
        <Param name="startVal" updates="None" val="0.0" valType="code"/>
        <Param name="stopType" updates="None" val="duration (s)" valType="str"/>
        <Param name="stopVal" updates="constant" val="" valType="code"/>
        <Param name="syncScreenRefresh" updates="None" val="True" valType="bool"/>
        <Param name="text" updates="constant" val="中立" valType="str"/>
        <Param name="units" updates="None" val="from exp settings" valType="str"/>
        <Param name="wrapWidth" updates="constant" val="" valType="num"/>
      </TextComponent>
      <TextComponent name="img2_seven">
        <Param name="color" updates="constant" val="white" valType="color"/>
        <Param name="colorSpace" updates="constant" val="rgb" valType="str"/>
        <Param name="contrast" updates="constant" val="1" valType="num"/>
        <Param name="disabled" updates="None" val="False" valType="bool"/>
        <Param name="durationEstim" updates="None" val="" valType="code"/>
        <Param name="flip" updates="constant" val="None" valType="str"/>
        <Param name="font" updates="constant" val="Open Sans" valType="str"/>
        <Param name="languageStyle" updates="None" val="LTR" valType="str"/>
        <Param name="letterHeight" updates="constant" val="0.02" valType="num"/>
        <Param name="name" updates="None" val="img2_seven" valType="code"/>
        <Param name="opacity" updates="constant" val="" valType="num"/>
        <Param name="ori" updates="constant" val="0" valType="num"/>
        <Param name="pos" updates="constant" val="(0.225, -0.27)" valType="list"/>
        <Param name="saveStartStop" updates="None" val="True" valType="bool"/>
        <Param name="startEstim" updates="None" val="" valType="code"/>
        <Param name="startType" updates="None" val="time (s)" valType="str"/>
        <Param name="startVal" updates="None" val="0.0" valType="code"/>
        <Param name="stopType" updates="None" val="duration (s)" valType="str"/>
        <Param name="stopVal" updates="constant" val="" valType="code"/>
        <Param name="syncScreenRefresh" updates="None" val="True" valType="bool"/>
        <Param name="text" updates="constant" val="比较愿意" valType="str"/>
        <Param name="units" updates="None" val="from exp settings" valType="str"/>
        <Param name="wrapWidth" updates="constant" val="" valType="num"/>
      </TextComponent>
      <TextComponent name="img2_nine">
        <Param name="color" updates="constant" val="white" valType="color"/>
        <Param name="colorSpace" updates="constant" val="rgb" valType="str"/>
        <Param name="contrast" updates="constant" val="1" valType="num"/>
        <Param name="disabled" updates="None" val="False" valType="bool"/>
        <Param name="durationEstim" updates="None" val="" valType="code"/>
        <Param name="flip" updates="constant" val="None" valType="str"/>
        <Param name="font" updates="constant" val="Open Sans" valType="str"/>
        <Param name="languageStyle" updates="None" val="LTR" valType="str"/>
        <Param name="letterHeight" updates="constant" val="0.02" valType="num"/>
        <Param name="name" updates="None" val="img2_nine" valType="code"/>
        <Param name="opacity" updates="constant" val="" valType="num"/>
        <Param name="ori" updates="constant" val="0" valType="num"/>
        <Param name="pos" updates="constant" val="(0.45, -0.27)" valType="list"/>
        <Param name="saveStartStop" updates="None" val="True" valType="bool"/>
        <Param name="startEstim" updates="None" val="" valType="code"/>
        <Param name="startType" updates="None" val="time (s)" valType="str"/>
        <Param name="startVal" updates="None" val="0.0" valType="code"/>
        <Param name="stopType" updates="None" val="duration (s)" valType="str"/>
        <Param name="stopVal" updates="constant" val="" valType="code"/>
        <Param name="syncScreenRefresh" updates="None" val="True" valType="bool"/>
        <Param name="text" updates="constant" val="非常愿意" valType="str"/>
        <Param name="units" updates="None" val="from exp settings" valType="str"/>
        <Param name="wrapWidth" updates="constant" val="" valType="num"/>
      </TextComponent>
    </Routine>
    <Routine name="end">
      <TextComponent name="end_text">
        <Param name="color" updates="constant" val="white" valType="color"/>
        <Param name="colorSpace" updates="constant" val="rgb" valType="str"/>
        <Param name="contrast" updates="constant" val="1" valType="num"/>
        <Param name="disabled" updates="None" val="False" valType="bool"/>
        <Param name="durationEstim" updates="None" val="" valType="code"/>
        <Param name="flip" updates="constant" val="None" valType="str"/>
        <Param name="font" updates="constant" val="Open Sans" valType="str"/>
        <Param name="languageStyle" updates="None" val="LTR" valType="str"/>
        <Param name="letterHeight" updates="constant" val="0.03" valType="num"/>
        <Param name="name" updates="None" val="end_text" valType="code"/>
        <Param name="opacity" updates="constant" val="" valType="num"/>
        <Param name="ori" updates="constant" val="0" valType="num"/>
        <Param name="pos" updates="constant" val="(0, 0)" valType="list"/>
        <Param name="saveStartStop" updates="None" val="True" valType="bool"/>
        <Param name="startEstim" updates="None" val="" valType="code"/>
        <Param name="startType" updates="None" val="time (s)" valType="str"/>
        <Param name="startVal" updates="None" val="0.0" valType="code"/>
        <Param name="stopType" updates="None" val="duration (s)" valType="str"/>
        <Param name="stopVal" updates="constant" val="" valType="code"/>
        <Param name="syncScreenRefresh" updates="None" val="True" valType="bool"/>
        <Param name="text" updates="constant" val="感谢您参与本次研究！请按空格键退出。" valType="str"/>
        <Param name="units" updates="None" val="from exp settings" valType="str"/>
        <Param name="wrapWidth" updates="constant" val="" valType="num"/>
      </TextComponent>
      <KeyboardComponent name="end_key_resp">
        <Param name="allowedKeys" updates="constant" val="'space'" valType="list"/>
        <Param name="correctAns" updates="constant" val="" valType="str"/>
        <Param name="disabled" updates="None" val="False" valType="bool"/>
        <Param name="discard previous" updates="constant" val="True" valType="bool"/>
        <Param name="durationEstim" updates="None" val="" valType="code"/>
        <Param name="forceEndRoutine" updates="constant" val="True" valType="bool"/>
        <Param name="name" updates="None" val="end_key_resp" valType="code"/>
        <Param name="saveStartStop" updates="None" val="True" valType="bool"/>
        <Param name="startEstim" updates="None" val="" valType="code"/>
        <Param name="startType" updates="None" val="time (s)" valType="str"/>
        <Param name="startVal" updates="None" val="0.0" valType="code"/>
        <Param name="stopType" updates="None" val="duration (s)" valType="str"/>
        <Param name="stopVal" updates="constant" val="" valType="code"/>
        <Param name="store" updates="constant" val="last key" valType="str"/>
        <Param name="storeCorrect" updates="constant" val="False" valType="bool"/>
        <Param name="syncScreenRefresh" updates="constant" val="True" valType="bool"/>
      </KeyboardComponent>
    </Routine>
    <Routine name="fixation">
      <TextComponent name="fixation_text">
        <Param name="color" updates="constant" val="white" valType="color"/>
        <Param name="colorSpace" updates="constant" val="rgb" valType="str"/>
        <Param name="contrast" updates="constant" val="1" valType="num"/>
        <Param name="disabled" updates="None" val="False" valType="bool"/>
        <Param name="durationEstim" updates="None" val="" valType="code"/>
        <Param name="flip" updates="constant" val="None" valType="str"/>
        <Param name="font" updates="constant" val="Open Sans" valType="str"/>
        <Param name="languageStyle" updates="None" val="LTR" valType="str"/>
        <Param name="letterHeight" updates="constant" val="0.1" valType="num"/>
        <Param name="name" updates="None" val="fixation_text" valType="code"/>
        <Param name="opacity" updates="constant" val="" valType="num"/>
        <Param name="ori" updates="constant" val="0" valType="num"/>
        <Param name="pos" updates="constant" val="(0, 0)" valType="list"/>
        <Param name="saveStartStop" updates="None" val="True" valType="bool"/>
        <Param name="startEstim" updates="None" val="" valType="code"/>
        <Param name="startType" updates="None" val="time (s)" valType="str"/>
        <Param name="startVal" updates="None" val="0.0" valType="code"/>
        <Param name="stopType" updates="None" val="duration (s)" valType="str"/>
        <Param name="stopVal" updates="constant" val="1.0" valType="code"/>
        <Param name="syncScreenRefresh" updates="None" val="True" valType="bool"/>
        <Param name="text" updates="constant" val="" valType="str"/>
        <Param name="units" updates="None" val="from exp settings" valType="str"/>
        <Param name="wrapWidth" updates="constant" val="" valType="num"/>
      </TextComponent>
    </Routine>
    <Routine name="confidence_2">
      <TextComponent name="confidence2_text">
        <Param name="color" updates="constant" val="white" valType="color"/>
        <Param name="colorSpace" updates="constant" val="rgb" valType="str"/>
        <Param name="contrast" updates="constant" val="1" valType="num"/>
        <Param name="disabled" updates="None" val="False" valType="bool"/>
        <Param name="durationEstim" updates="None" val="" valType="code"/>
        <Param name="flip" updates="constant" val="None" valType="str"/>
        <Param name="font" updates="constant" val="Open Sans" valType="str"/>
        <Param name="languageStyle" updates="None" val="LTR" valType="str"/>
        <Param name="letterHeight" updates="constant" val="0.03" valType="num"/>
        <Param name="name" updates="None" val="confidence2_text" valType="code"/>
        <Param name="opacity" updates="constant" val="" valType="num"/>
        <Param name="ori" updates="constant" val="0" valType="num"/>
        <Param name="pos" updates="constant" val="(0, 0)" valType="list"/>
        <Param name="saveStartStop" updates="None" val="True" valType="bool"/>
        <Param name="startEstim" updates="None" val="" valType="code"/>
        <Param name="startType" updates="None" val="time (s)" valType="str"/>
        <Param name="startVal" updates="None" val="0.0" valType="code"/>
        <Param name="stopType" updates="None" val="duration (s)" valType="str"/>
        <Param name="stopVal" updates="constant" val="" valType="code"/>
        <Param name="syncScreenRefresh" updates="None" val="True" valType="bool"/>
        <Param name="text" updates="constant" val="您对刚才的可信度评分有多确定？" valType="str"/>
        <Param name="units" updates="None" val="from exp settings" valType="str"/>
        <Param name="wrapWidth" updates="constant" val="" valType="num"/>
      </TextComponent>
      <KeyboardComponent name="confidence_T2_keys">
        <Param name="allowedKeys" updates="constant" val="'1','2','3','4','5','6','7','8','9'" valType="list"/>
        <Param name="correctAns" updates="constant" val="" valType="str"/>
        <Param name="disabled" updates="None" val="False" valType="bool"/>
        <Param name="discard previous" updates="constant" val="True" valType="bool"/>
        <Param name="durationEstim" updates="None" val="" valType="code"/>
        <Param name="forceEndRoutine" updates="constant" val="True" valType="bool"/>
        <Param name="name" updates="None" val="confidence_T2_keys" valType="code"/>
        <Param name="saveStartStop" updates="None" val="True" valType="bool"/>
        <Param name="startEstim" updates="None" val="" valType="code"/>
        <Param name="startType" updates="None" val="time (s)" valType="str"/>
        <Param name="startVal" updates="None" val="0.0" valType="code"/>
        <Param name="stopType" updates="None" val="duration (s)" valType="str"/>
        <Param name="stopVal" updates="constant" val="" valType="code"/>
        <Param name="store" updates="constant" val="last key" valType="str"/>
        <Param name="storeCorrect" updates="constant" val="False" valType="bool"/>
        <Param name="syncScreenRefresh" updates="constant" val="True" valType="bool"/>
      </KeyboardComponent>
      <ImageComponent name="slider_confidence_t2">
        <Param name="color" updates="constant" val="$[1,1,1]" valType="color"/>
        <Param name="colorSpace" updates="constant" val="rgb" valType="str"/>
        <Param name="contrast" updates="constant" val="1" valType="num"/>
        <Param name="disabled" updates="None" val="False" valType="bool"/>
        <Param name="durationEstim" updates="None" val="" valType="code"/>
        <Param name="flipHoriz" updates="constant" val="False" valType="bool"/>
        <Param name="flipVert" updates="constant" val="False" valType="bool"/>
        <Param name="image" updates="constant" val="slider.jpg" valType="file"/>
        <Param name="interpolate" updates="constant" val="linear" valType="str"/>
        <Param name="mask" updates="constant" val="" valType="str"/>
        <Param name="name" updates="None" val="slider_confidence_t2" valType="code"/>
        <Param name="opacity" updates="constant" val="" valType="num"/>
        <Param name="ori" updates="constant" val="0" valType="num"/>
        <Param name="pos" updates="constant" val="(0, -0.37)" valType="list"/>
        <Param name="saveStartStop" updates="None" val="True" valType="bool"/>
        <Param name="size" updates="constant" val="(0.9, 0.1)" valType="list"/>
        <Param name="startEstim" updates="None" val="" valType="code"/>
        <Param name="startType" updates="None" val="time (s)" valType="str"/>
        <Param name="startVal" updates="None" val="0.0" valType="code"/>
        <Param name="stopType" updates="None" val="duration (s)" valType="str"/>
        <Param name="stopVal" updates="constant" val="" valType="code"/>
        <Param name="syncScreenRefresh" updates="None" val="True" valType="bool"/>
        <Param name="texture resolution" updates="constant" val="128" valType="num"/>
        <Param name="units" updates="None" val="from exp settings" valType="str"/>
      </ImageComponent>
      <CodeComponent name="confidence_T2_code">
        <Param name="Before Experiment" updates="constant" val="" valType="extendedCode"/>
        <Param name="Before JS Experiment" updates="constant" val="" valType="extendedCode"/>
        <Param name="Begin Experiment" updates="constant" val="" valType="extendedCode"/>
        <Param name="Begin JS Experiment" updates="constant" val="" valType="extendedCode"/>
        <Param name="Begin JS Routine" updates="constant" val="" valType="extendedCode"/>
        <Param name="Begin Routine" updates="constant" val="" valType="extendedCode"/>
        <Param name="Code Type" updates="None" val="Both" valType="str"/>
        <Param name="Each Frame" updates="constant" val="" valType="extendedCode"/>
        <Param name="Each JS Frame" updates="constant" val="" valType="extendedCode"/>
        <Param name="End Experiment" updates="constant" val="" valType="extendedCode"/>
        <Param name="End JS Experiment" updates="constant" val="" valType="extendedCode"/>
        <Param name="End JS Routine" updates="constant" val="// 处理第二次置信度评分&amp;#10;&amp;#10;// 获取T2置信度评分&amp;#10;var conf_rating = null;&amp;#10;if (confidence_T2_keys &amp;&amp; confidence_T2_keys.keys) {&amp;#10;    if (Array.isArray(confidence_T2_keys.keys)) {&amp;#10;        // 如果keys是数组，取最后一次按键&amp;#10;        if (confidence_T2_keys.keys.length &gt; 0) {&amp;#10;            var lastKey = confidence_T2_keys.keys[confidence_T2_keys.keys.length - 1];&amp;#10;            conf_rating = parseInt(lastKey);&amp;#10;        }&amp;#10;    } else {&amp;#10;        // 如果keys是单个值&amp;#10;        conf_rating = parseInt(confidence_T2_keys.keys);&amp;#10;    }&amp;#10;}&amp;#10;&amp;#10;// 获取T1评分的确定性（JavaScript中没有.get()方法，需要手动检查）&amp;#10;var t1_conf = null;&amp;#10;var identity_key = String(thisTrial['identity']);&amp;#10;if (typeof T1_confidence !== 'undefined' &amp;&amp; T1_confidence.hasOwnProperty(identity_key)) {&amp;#10;    t1_conf = T1_confidence[identity_key];&amp;#10;}&amp;#10;&amp;#10;// 计算确定性变化&amp;#10;var conf_change = null;&amp;#10;if (t1_conf !== null &amp;&amp; conf_rating !== null) {&amp;#10;    conf_change = conf_rating - t1_conf;&amp;#10;}&amp;#10;&amp;#10;// 保存数据到实验文件&amp;#10;psychoJS.experiment.addData('confidence_T2', conf_rating);&amp;#10;psychoJS.experiment.addData('confidence_change', conf_change);" valType="extendedCode"/>
        <Param name="End Routine" updates="constant" val="if confidence_T2_keys.keys:&amp;#10;    conf_rating = int(confidence_T2_keys.keys)&amp;#10;else:&amp;#10;    conf_rating = None&amp;#10;&amp;#10;# 获取T1评分的确定性&amp;#10;t1_conf = T1_confidence.get(str(thisTrial['identity']), None)&amp;#10;&amp;#10;# 计算确定性变化&amp;#10;if t1_conf is not None and conf_rating is not None:&amp;#10;    conf_change = conf_rating - t1_conf&amp;#10;else:&amp;#10;    conf_change = None&amp;#10;&amp;#10;# 保存数据&amp;#10;thisExp.addData('confidence_T2', conf_rating)&amp;#10;thisExp.addData('confidence_change', conf_change)" valType="extendedCode"/>
        <Param name="disabled" updates="None" val="False" valType="bool"/>
        <Param name="name" updates="None" val="confidence_T2_code" valType="code"/>
      </CodeComponent>
      <TextComponent name="con2_one">
        <Param name="color" updates="constant" val="white" valType="color"/>
        <Param name="colorSpace" updates="constant" val="rgb" valType="str"/>
        <Param name="contrast" updates="constant" val="1" valType="num"/>
        <Param name="disabled" updates="None" val="False" valType="bool"/>
        <Param name="durationEstim" updates="None" val="" valType="code"/>
        <Param name="flip" updates="constant" val="None" valType="str"/>
        <Param name="font" updates="constant" val="Open Sans" valType="str"/>
        <Param name="languageStyle" updates="None" val="LTR" valType="str"/>
        <Param name="letterHeight" updates="constant" val="0.02" valType="num"/>
        <Param name="name" updates="None" val="con2_one" valType="code"/>
        <Param name="opacity" updates="constant" val="" valType="num"/>
        <Param name="ori" updates="constant" val="0" valType="num"/>
        <Param name="pos" updates="constant" val="(-0.45, -0.27)" valType="list"/>
        <Param name="saveStartStop" updates="None" val="True" valType="bool"/>
        <Param name="startEstim" updates="None" val="" valType="code"/>
        <Param name="startType" updates="None" val="time (s)" valType="str"/>
        <Param name="startVal" updates="None" val="0.0" valType="code"/>
        <Param name="stopType" updates="None" val="duration (s)" valType="str"/>
        <Param name="stopVal" updates="constant" val="" valType="code"/>
        <Param name="syncScreenRefresh" updates="None" val="True" valType="bool"/>
        <Param name="text" updates="constant" val="非常不确定" valType="str"/>
        <Param name="units" updates="None" val="from exp settings" valType="str"/>
        <Param name="wrapWidth" updates="constant" val="" valType="num"/>
      </TextComponent>
      <TextComponent name="con2_three">
        <Param name="color" updates="constant" val="white" valType="color"/>
        <Param name="colorSpace" updates="constant" val="rgb" valType="str"/>
        <Param name="contrast" updates="constant" val="1" valType="num"/>
        <Param name="disabled" updates="None" val="False" valType="bool"/>
        <Param name="durationEstim" updates="None" val="" valType="code"/>
        <Param name="flip" updates="constant" val="None" valType="str"/>
        <Param name="font" updates="constant" val="Open Sans" valType="str"/>
        <Param name="languageStyle" updates="None" val="LTR" valType="str"/>
        <Param name="letterHeight" updates="constant" val="0.02" valType="num"/>
        <Param name="name" updates="None" val="con2_three" valType="code"/>
        <Param name="opacity" updates="constant" val="" valType="num"/>
        <Param name="ori" updates="constant" val="0" valType="num"/>
        <Param name="pos" updates="constant" val="(-0.225, -0.27)" valType="list"/>
        <Param name="saveStartStop" updates="None" val="True" valType="bool"/>
        <Param name="startEstim" updates="None" val="" valType="code"/>
        <Param name="startType" updates="None" val="time (s)" valType="str"/>
        <Param name="startVal" updates="None" val="0.0" valType="code"/>
        <Param name="stopType" updates="None" val="duration (s)" valType="str"/>
        <Param name="stopVal" updates="constant" val="" valType="code"/>
        <Param name="syncScreenRefresh" updates="None" val="True" valType="bool"/>
        <Param name="text" updates="constant" val="比较不确定" valType="str"/>
        <Param name="units" updates="None" val="from exp settings" valType="str"/>
        <Param name="wrapWidth" updates="constant" val="" valType="num"/>
      </TextComponent>
      <TextComponent name="con2_five">
        <Param name="color" updates="constant" val="white" valType="color"/>
        <Param name="colorSpace" updates="constant" val="rgb" valType="str"/>
        <Param name="contrast" updates="constant" val="1" valType="num"/>
        <Param name="disabled" updates="None" val="False" valType="bool"/>
        <Param name="durationEstim" updates="None" val="" valType="code"/>
        <Param name="flip" updates="constant" val="None" valType="str"/>
        <Param name="font" updates="constant" val="Open Sans" valType="str"/>
        <Param name="languageStyle" updates="None" val="LTR" valType="str"/>
        <Param name="letterHeight" updates="constant" val="0.02" valType="num"/>
        <Param name="name" updates="None" val="con2_five" valType="code"/>
        <Param name="opacity" updates="constant" val="" valType="num"/>
        <Param name="ori" updates="constant" val="0" valType="num"/>
        <Param name="pos" updates="constant" val="(0, -0.27)" valType="list"/>
        <Param name="saveStartStop" updates="None" val="True" valType="bool"/>
        <Param name="startEstim" updates="None" val="" valType="code"/>
        <Param name="startType" updates="None" val="time (s)" valType="str"/>
        <Param name="startVal" updates="None" val="0.0" valType="code"/>
        <Param name="stopType" updates="None" val="duration (s)" valType="str"/>
        <Param name="stopVal" updates="constant" val="" valType="code"/>
        <Param name="syncScreenRefresh" updates="None" val="True" valType="bool"/>
        <Param name="text" updates="constant" val="中立" valType="str"/>
        <Param name="units" updates="None" val="from exp settings" valType="str"/>
        <Param name="wrapWidth" updates="constant" val="" valType="num"/>
      </TextComponent>
      <TextComponent name="con2_seven">
        <Param name="color" updates="constant" val="white" valType="color"/>
        <Param name="colorSpace" updates="constant" val="rgb" valType="str"/>
        <Param name="contrast" updates="constant" val="1" valType="num"/>
        <Param name="disabled" updates="None" val="False" valType="bool"/>
        <Param name="durationEstim" updates="None" val="" valType="code"/>
        <Param name="flip" updates="constant" val="None" valType="str"/>
        <Param name="font" updates="constant" val="Open Sans" valType="str"/>
        <Param name="languageStyle" updates="None" val="LTR" valType="str"/>
        <Param name="letterHeight" updates="constant" val="0.02" valType="num"/>
        <Param name="name" updates="None" val="con2_seven" valType="code"/>
        <Param name="opacity" updates="constant" val="" valType="num"/>
        <Param name="ori" updates="constant" val="0" valType="num"/>
        <Param name="pos" updates="constant" val="(0.225, -0.27)" valType="list"/>
        <Param name="saveStartStop" updates="None" val="True" valType="bool"/>
        <Param name="startEstim" updates="None" val="" valType="code"/>
        <Param name="startType" updates="None" val="time (s)" valType="str"/>
        <Param name="startVal" updates="None" val="0.0" valType="code"/>
        <Param name="stopType" updates="None" val="duration (s)" valType="str"/>
        <Param name="stopVal" updates="constant" val="" valType="code"/>
        <Param name="syncScreenRefresh" updates="None" val="True" valType="bool"/>
        <Param name="text" updates="constant" val="比较确定" valType="str"/>
        <Param name="units" updates="None" val="from exp settings" valType="str"/>
        <Param name="wrapWidth" updates="constant" val="" valType="num"/>
      </TextComponent>
      <TextComponent name="con2_nine">
        <Param name="color" updates="constant" val="white" valType="color"/>
        <Param name="colorSpace" updates="constant" val="rgb" valType="str"/>
        <Param name="contrast" updates="constant" val="1" valType="num"/>
        <Param name="disabled" updates="None" val="False" valType="bool"/>
        <Param name="durationEstim" updates="None" val="" valType="code"/>
        <Param name="flip" updates="constant" val="None" valType="str"/>
        <Param name="font" updates="constant" val="Open Sans" valType="str"/>
        <Param name="languageStyle" updates="None" val="LTR" valType="str"/>
        <Param name="letterHeight" updates="constant" val="0.02" valType="num"/>
        <Param name="name" updates="None" val="con2_nine" valType="code"/>
        <Param name="opacity" updates="constant" val="" valType="num"/>
        <Param name="ori" updates="constant" val="0" valType="num"/>
        <Param name="pos" updates="constant" val="(0.45, -0.27)" valType="list"/>
        <Param name="saveStartStop" updates="None" val="True" valType="bool"/>
        <Param name="startEstim" updates="None" val="" valType="code"/>
        <Param name="startType" updates="None" val="time (s)" valType="str"/>
        <Param name="startVal" updates="None" val="0.0" valType="code"/>
        <Param name="stopType" updates="None" val="duration (s)" valType="str"/>
        <Param name="stopVal" updates="constant" val="" valType="code"/>
        <Param name="syncScreenRefresh" updates="None" val="True" valType="bool"/>
        <Param name="text" updates="constant" val="非常确定" valType="str"/>
        <Param name="units" updates="None" val="from exp settings" valType="str"/>
        <Param name="wrapWidth" updates="constant" val="" valType="num"/>
      </TextComponent>
    </Routine>
    <Routine name="confidence_1">
      <TextComponent name="confidence_T1_text">
        <Param name="color" updates="constant" val="white" valType="color"/>
        <Param name="colorSpace" updates="constant" val="rgb" valType="str"/>
        <Param name="contrast" updates="constant" val="1" valType="num"/>
        <Param name="disabled" updates="None" val="False" valType="bool"/>
        <Param name="durationEstim" updates="None" val="" valType="code"/>
        <Param name="flip" updates="constant" val="None" valType="str"/>
        <Param name="font" updates="constant" val="Open Sans" valType="str"/>
        <Param name="languageStyle" updates="None" val="LTR" valType="str"/>
        <Param name="letterHeight" updates="constant" val="0.03" valType="num"/>
        <Param name="name" updates="None" val="confidence_T1_text" valType="code"/>
        <Param name="opacity" updates="constant" val="" valType="num"/>
        <Param name="ori" updates="constant" val="0" valType="num"/>
        <Param name="pos" updates="constant" val="(0, 0)" valType="list"/>
        <Param name="saveStartStop" updates="None" val="True" valType="bool"/>
        <Param name="startEstim" updates="None" val="" valType="code"/>
        <Param name="startType" updates="None" val="time (s)" valType="str"/>
        <Param name="startVal" updates="None" val="0.0" valType="code"/>
        <Param name="stopType" updates="None" val="duration (s)" valType="str"/>
        <Param name="stopVal" updates="constant" val="" valType="code"/>
        <Param name="syncScreenRefresh" updates="None" val="True" valType="bool"/>
        <Param name="text" updates="constant" val="您对刚才的可信度评分有多确定？" valType="str"/>
        <Param name="units" updates="None" val="from exp settings" valType="str"/>
        <Param name="wrapWidth" updates="constant" val="" valType="num"/>
      </TextComponent>
      <KeyboardComponent name="confidence_T1_keys">
        <Param name="allowedKeys" updates="constant" val="'1','2','3','4','5','6','7','8','9'" valType="list"/>
        <Param name="correctAns" updates="constant" val="" valType="str"/>
        <Param name="disabled" updates="None" val="False" valType="bool"/>
        <Param name="discard previous" updates="constant" val="True" valType="bool"/>
        <Param name="durationEstim" updates="None" val="" valType="code"/>
        <Param name="forceEndRoutine" updates="constant" val="True" valType="bool"/>
        <Param name="name" updates="None" val="confidence_T1_keys" valType="code"/>
        <Param name="saveStartStop" updates="None" val="True" valType="bool"/>
        <Param name="startEstim" updates="None" val="" valType="code"/>
        <Param name="startType" updates="None" val="time (s)" valType="str"/>
        <Param name="startVal" updates="None" val="0.0" valType="code"/>
        <Param name="stopType" updates="None" val="duration (s)" valType="str"/>
        <Param name="stopVal" updates="constant" val="" valType="code"/>
        <Param name="store" updates="constant" val="last key" valType="str"/>
        <Param name="storeCorrect" updates="constant" val="False" valType="bool"/>
        <Param name="syncScreenRefresh" updates="constant" val="True" valType="bool"/>
      </KeyboardComponent>
      <ImageComponent name="slider_confidence_t1">
        <Param name="color" updates="constant" val="$[1,1,1]" valType="color"/>
        <Param name="colorSpace" updates="constant" val="rgb" valType="str"/>
        <Param name="contrast" updates="constant" val="1" valType="num"/>
        <Param name="disabled" updates="None" val="False" valType="bool"/>
        <Param name="durationEstim" updates="None" val="" valType="code"/>
        <Param name="flipHoriz" updates="constant" val="False" valType="bool"/>
        <Param name="flipVert" updates="constant" val="False" valType="bool"/>
        <Param name="image" updates="constant" val="slider.jpg" valType="file"/>
        <Param name="interpolate" updates="constant" val="linear" valType="str"/>
        <Param name="mask" updates="constant" val="" valType="str"/>
        <Param name="name" updates="None" val="slider_confidence_t1" valType="code"/>
        <Param name="opacity" updates="constant" val="" valType="num"/>
        <Param name="ori" updates="constant" val="0" valType="num"/>
        <Param name="pos" updates="constant" val="(0, -0.37)" valType="list"/>
        <Param name="saveStartStop" updates="None" val="True" valType="bool"/>
        <Param name="size" updates="constant" val="(0.9, 0.1)" valType="list"/>
        <Param name="startEstim" updates="None" val="" valType="code"/>
        <Param name="startType" updates="None" val="time (s)" valType="str"/>
        <Param name="startVal" updates="None" val="0.0" valType="code"/>
        <Param name="stopType" updates="None" val="duration (s)" valType="str"/>
        <Param name="stopVal" updates="constant" val="" valType="code"/>
        <Param name="syncScreenRefresh" updates="None" val="True" valType="bool"/>
        <Param name="texture resolution" updates="constant" val="128" valType="num"/>
        <Param name="units" updates="None" val="from exp settings" valType="str"/>
      </ImageComponent>
      <CodeComponent name="confidence_T1_code">
        <Param name="Before Experiment" updates="constant" val="" valType="extendedCode"/>
        <Param name="Before JS Experiment" updates="constant" val="" valType="extendedCode"/>
        <Param name="Begin Experiment" updates="constant" val="" valType="extendedCode"/>
        <Param name="Begin JS Experiment" updates="constant" val="" valType="extendedCode"/>
        <Param name="Begin JS Routine" updates="constant" val="" valType="extendedCode"/>
        <Param name="Begin Routine" updates="constant" val="" valType="extendedCode"/>
        <Param name="Code Type" updates="None" val="Both" valType="str"/>
        <Param name="Each Frame" updates="constant" val="" valType="extendedCode"/>
        <Param name="Each JS Frame" updates="constant" val="" valType="extendedCode"/>
        <Param name="End Experiment" updates="constant" val="" valType="extendedCode"/>
        <Param name="End JS Experiment" updates="constant" val="" valType="extendedCode"/>
        <Param name="End JS Routine" updates="constant" val="// 处理置信度评分的按键响应&amp;#10;var conf_rating = null;&amp;#10;&amp;#10;if (confidence_T1_keys.keys) {&amp;#10;    if (Array.isArray(confidence_T1_keys.keys)) {&amp;#10;        // 如果keys是数组，取最后一次按键&amp;#10;        if (confidence_T1_keys.keys.length &gt; 0) {&amp;#10;            var lastKey = confidence_T1_keys.keys[confidence_T1_keys.keys.length - 1];&amp;#10;            conf_rating = parseInt(lastKey);&amp;#10;        }&amp;#10;    } else {&amp;#10;        // 如果keys是单个值&amp;#10;        conf_rating = parseInt(confidence_T1_keys.keys);&amp;#10;    }&amp;#10;}&amp;#10;&amp;#10;// 初始化全局字典（如果尚未初始化）&amp;#10;if (typeof T1_confidence === 'undefined') {&amp;#10;    T1_confidence = {};&amp;#10;}&amp;#10;&amp;#10;// 保存确定性评分到全局字典&amp;#10;window.T1_confidence[String(thisTrial['identity'])] = conf_rating;&amp;#10;&amp;#10;// 保存确定性评分到数据文件&amp;#10;psychoJS.experiment.addData('confidence_T1', conf_rating);" valType="extendedCode"/>
        <Param name="End Routine" updates="constant" val="if confidence_T1_keys.keys:&amp;#10;    conf_rating = int(confidence_T1_keys.keys)&amp;#10;else:&amp;#10;    conf_rating = None&amp;#10;&amp;#10;# 保存确定性评分&amp;#10;T1_confidence[str(thisTrial['identity'])] = conf_rating&amp;#10;thisExp.addData('confidence_T1', conf_rating)" valType="extendedCode"/>
        <Param name="disabled" updates="None" val="False" valType="bool"/>
        <Param name="name" updates="None" val="confidence_T1_code" valType="code"/>
      </CodeComponent>
      <TextComponent name="con1_one">
        <Param name="color" updates="constant" val="white" valType="color"/>
        <Param name="colorSpace" updates="constant" val="rgb" valType="str"/>
        <Param name="contrast" updates="constant" val="1" valType="num"/>
        <Param name="disabled" updates="None" val="False" valType="bool"/>
        <Param name="durationEstim" updates="None" val="" valType="code"/>
        <Param name="flip" updates="constant" val="None" valType="str"/>
        <Param name="font" updates="constant" val="Open Sans" valType="str"/>
        <Param name="languageStyle" updates="None" val="LTR" valType="str"/>
        <Param name="letterHeight" updates="constant" val="0.02" valType="num"/>
        <Param name="name" updates="None" val="con1_one" valType="code"/>
        <Param name="opacity" updates="constant" val="" valType="num"/>
        <Param name="ori" updates="constant" val="0" valType="num"/>
        <Param name="pos" updates="constant" val="(-0.45, -0.27)" valType="list"/>
        <Param name="saveStartStop" updates="None" val="True" valType="bool"/>
        <Param name="startEstim" updates="None" val="" valType="code"/>
        <Param name="startType" updates="None" val="time (s)" valType="str"/>
        <Param name="startVal" updates="None" val="0.0" valType="code"/>
        <Param name="stopType" updates="None" val="duration (s)" valType="str"/>
        <Param name="stopVal" updates="constant" val="" valType="code"/>
        <Param name="syncScreenRefresh" updates="None" val="True" valType="bool"/>
        <Param name="text" updates="constant" val="非常不确定" valType="str"/>
        <Param name="units" updates="None" val="from exp settings" valType="str"/>
        <Param name="wrapWidth" updates="constant" val="" valType="num"/>
      </TextComponent>
      <TextComponent name="con1_three">
        <Param name="color" updates="constant" val="white" valType="color"/>
        <Param name="colorSpace" updates="constant" val="rgb" valType="str"/>
        <Param name="contrast" updates="constant" val="1" valType="num"/>
        <Param name="disabled" updates="None" val="False" valType="bool"/>
        <Param name="durationEstim" updates="None" val="" valType="code"/>
        <Param name="flip" updates="constant" val="None" valType="str"/>
        <Param name="font" updates="constant" val="Open Sans" valType="str"/>
        <Param name="languageStyle" updates="None" val="LTR" valType="str"/>
        <Param name="letterHeight" updates="constant" val="0.02" valType="num"/>
        <Param name="name" updates="None" val="con1_three" valType="code"/>
        <Param name="opacity" updates="constant" val="" valType="num"/>
        <Param name="ori" updates="constant" val="0" valType="num"/>
        <Param name="pos" updates="constant" val="(-0.225, -0.27)" valType="list"/>
        <Param name="saveStartStop" updates="None" val="True" valType="bool"/>
        <Param name="startEstim" updates="None" val="" valType="code"/>
        <Param name="startType" updates="None" val="time (s)" valType="str"/>
        <Param name="startVal" updates="None" val="0.0" valType="code"/>
        <Param name="stopType" updates="None" val="duration (s)" valType="str"/>
        <Param name="stopVal" updates="constant" val="" valType="code"/>
        <Param name="syncScreenRefresh" updates="None" val="True" valType="bool"/>
        <Param name="text" updates="constant" val="比较不确定" valType="str"/>
        <Param name="units" updates="None" val="from exp settings" valType="str"/>
        <Param name="wrapWidth" updates="constant" val="" valType="num"/>
      </TextComponent>
      <TextComponent name="con1_five">
        <Param name="color" updates="constant" val="white" valType="color"/>
        <Param name="colorSpace" updates="constant" val="rgb" valType="str"/>
        <Param name="contrast" updates="constant" val="1" valType="num"/>
        <Param name="disabled" updates="None" val="False" valType="bool"/>
        <Param name="durationEstim" updates="None" val="" valType="code"/>
        <Param name="flip" updates="constant" val="None" valType="str"/>
        <Param name="font" updates="constant" val="Open Sans" valType="str"/>
        <Param name="languageStyle" updates="None" val="LTR" valType="str"/>
        <Param name="letterHeight" updates="constant" val="0.02" valType="num"/>
        <Param name="name" updates="None" val="con1_five" valType="code"/>
        <Param name="opacity" updates="constant" val="" valType="num"/>
        <Param name="ori" updates="constant" val="0" valType="num"/>
        <Param name="pos" updates="constant" val="(0, -0.27)" valType="list"/>
        <Param name="saveStartStop" updates="None" val="True" valType="bool"/>
        <Param name="startEstim" updates="None" val="" valType="code"/>
        <Param name="startType" updates="None" val="time (s)" valType="str"/>
        <Param name="startVal" updates="None" val="0.0" valType="code"/>
        <Param name="stopType" updates="None" val="duration (s)" valType="str"/>
        <Param name="stopVal" updates="constant" val="" valType="code"/>
        <Param name="syncScreenRefresh" updates="None" val="True" valType="bool"/>
        <Param name="text" updates="constant" val="中立" valType="str"/>
        <Param name="units" updates="None" val="from exp settings" valType="str"/>
        <Param name="wrapWidth" updates="constant" val="" valType="num"/>
      </TextComponent>
      <TextComponent name="con1_seven">
        <Param name="color" updates="constant" val="white" valType="color"/>
        <Param name="colorSpace" updates="constant" val="rgb" valType="str"/>
        <Param name="contrast" updates="constant" val="1" valType="num"/>
        <Param name="disabled" updates="None" val="False" valType="bool"/>
        <Param name="durationEstim" updates="None" val="" valType="code"/>
        <Param name="flip" updates="constant" val="None" valType="str"/>
        <Param name="font" updates="constant" val="Open Sans" valType="str"/>
        <Param name="languageStyle" updates="None" val="LTR" valType="str"/>
        <Param name="letterHeight" updates="constant" val="0.02" valType="num"/>
        <Param name="name" updates="None" val="con1_seven" valType="code"/>
        <Param name="opacity" updates="constant" val="" valType="num"/>
        <Param name="ori" updates="constant" val="0" valType="num"/>
        <Param name="pos" updates="constant" val="(0.225, -0.27)" valType="list"/>
        <Param name="saveStartStop" updates="None" val="True" valType="bool"/>
        <Param name="startEstim" updates="None" val="" valType="code"/>
        <Param name="startType" updates="None" val="time (s)" valType="str"/>
        <Param name="startVal" updates="None" val="0.0" valType="code"/>
        <Param name="stopType" updates="None" val="duration (s)" valType="str"/>
        <Param name="stopVal" updates="constant" val="" valType="code"/>
        <Param name="syncScreenRefresh" updates="None" val="True" valType="bool"/>
        <Param name="text" updates="constant" val="比较确定" valType="str"/>
        <Param name="units" updates="None" val="from exp settings" valType="str"/>
        <Param name="wrapWidth" updates="constant" val="" valType="num"/>
      </TextComponent>
      <TextComponent name="con1_nine">
        <Param name="color" updates="constant" val="white" valType="color"/>
        <Param name="colorSpace" updates="constant" val="rgb" valType="str"/>
        <Param name="contrast" updates="constant" val="1" valType="num"/>
        <Param name="disabled" updates="None" val="False" valType="bool"/>
        <Param name="durationEstim" updates="None" val="" valType="code"/>
        <Param name="flip" updates="constant" val="None" valType="str"/>
        <Param name="font" updates="constant" val="Open Sans" valType="str"/>
        <Param name="languageStyle" updates="None" val="LTR" valType="str"/>
        <Param name="letterHeight" updates="constant" val="0.02" valType="num"/>
        <Param name="name" updates="None" val="con1_nine" valType="code"/>
        <Param name="opacity" updates="constant" val="" valType="num"/>
        <Param name="ori" updates="constant" val="0" valType="num"/>
        <Param name="pos" updates="constant" val="(0.45, -0.27)" valType="list"/>
        <Param name="saveStartStop" updates="None" val="True" valType="bool"/>
        <Param name="startEstim" updates="None" val="" valType="code"/>
        <Param name="startType" updates="None" val="time (s)" valType="str"/>
        <Param name="startVal" updates="None" val="0.0" valType="code"/>
        <Param name="stopType" updates="None" val="duration (s)" valType="str"/>
        <Param name="stopVal" updates="constant" val="" valType="code"/>
        <Param name="syncScreenRefresh" updates="None" val="True" valType="bool"/>
        <Param name="text" updates="constant" val="非常确定" valType="str"/>
        <Param name="units" updates="None" val="from exp settings" valType="str"/>
        <Param name="wrapWidth" updates="constant" val="" valType="num"/>
      </TextComponent>
    </Routine>
    <Routine name="block_instru">
      <TextComponent name="block_instr_text">
        <Param name="color" updates="constant" val="white" valType="color"/>
        <Param name="colorSpace" updates="constant" val="rgb" valType="str"/>
        <Param name="contrast" updates="constant" val="1" valType="num"/>
        <Param name="disabled" updates="None" val="False" valType="bool"/>
        <Param name="durationEstim" updates="None" val="" valType="code"/>
        <Param name="flip" updates="constant" val="None" valType="str"/>
        <Param name="font" updates="constant" val="Open Sans" valType="str"/>
        <Param name="languageStyle" updates="None" val="LTR" valType="str"/>
        <Param name="letterHeight" updates="constant" val="0.03" valType="num"/>
        <Param name="name" updates="None" val="block_instr_text" valType="code"/>
        <Param name="opacity" updates="constant" val="" valType="num"/>
        <Param name="ori" updates="constant" val="0" valType="num"/>
        <Param name="pos" updates="constant" val="(0, 0)" valType="list"/>
        <Param name="saveStartStop" updates="None" val="True" valType="bool"/>
        <Param name="startEstim" updates="None" val="" valType="code"/>
        <Param name="startType" updates="None" val="time (s)" valType="str"/>
        <Param name="startVal" updates="None" val="0.0" valType="code"/>
        <Param name="stopType" updates="None" val="duration (s)" valType="str"/>
        <Param name="stopVal" updates="constant" val="" valType="code"/>
        <Param name="syncScreenRefresh" updates="None" val="True" valType="bool"/>
        <Param name="text" updates="constant" val="接下来是其中一位卖家的照片，&amp;#10;请您判断是否愿意与其进行交易。&amp;#10;&amp;#10;请按空格键继续。" valType="str"/>
        <Param name="units" updates="None" val="from exp settings" valType="str"/>
        <Param name="wrapWidth" updates="constant" val="" valType="num"/>
      </TextComponent>
      <KeyboardComponent name="block_key_resp">
        <Param name="allowedKeys" updates="constant" val="'space'" valType="list"/>
        <Param name="correctAns" updates="constant" val="" valType="str"/>
        <Param name="disabled" updates="None" val="False" valType="bool"/>
        <Param name="discard previous" updates="constant" val="True" valType="bool"/>
        <Param name="durationEstim" updates="None" val="" valType="code"/>
        <Param name="forceEndRoutine" updates="constant" val="True" valType="bool"/>
        <Param name="name" updates="None" val="block_key_resp" valType="code"/>
        <Param name="saveStartStop" updates="None" val="True" valType="bool"/>
        <Param name="startEstim" updates="None" val="" valType="code"/>
        <Param name="startType" updates="None" val="time (s)" valType="str"/>
        <Param name="startVal" updates="None" val="0.0" valType="code"/>
        <Param name="stopType" updates="None" val="duration (s)" valType="str"/>
        <Param name="stopVal" updates="constant" val="" valType="code"/>
        <Param name="store" updates="constant" val="last key" valType="str"/>
        <Param name="storeCorrect" updates="constant" val="False" valType="bool"/>
        <Param name="syncScreenRefresh" updates="constant" val="True" valType="bool"/>
      </KeyboardComponent>
    </Routine>
  </Routines>
  <Flow>
    <Routine name="instruction"/>
    <LoopInitiator loopType="TrialHandler" name="trials">
      <Param name="Selected rows" updates="None" val="" valType="str"/>
      <Param name="conditions" updates="None" val="None" valType="str"/>
      <Param name="conditionsFile" updates="None" val="$psychoJS.experiment.extraInfo['trials_file']" valType="file"/>
      <Param name="endPoints" updates="None" val="[0, 1]" valType="num"/>
      <Param name="isTrials" updates="None" val="True" valType="bool"/>
      <Param name="loopType" updates="None" val="random" valType="str"/>
      <Param name="nReps" updates="None" val="1" valType="num"/>
      <Param name="name" updates="None" val="trials" valType="code"/>
      <Param name="random seed" updates="None" val="" valType="code"/>
    </LoopInitiator>
    <Routine name="block_instru"/>
    <Routine name="fixation"/>
    <Routine name="image1"/>
    <Routine name="fixation"/>
    <Routine name="confidence_1"/>
    <Routine name="fixation"/>
    <Routine name="image2"/>
    <Routine name="fixation"/>
    <Routine name="confidence_2"/>
    <LoopTerminator name="trials"/>
    <Routine name="end"/>
  </Flow>
</PsychoPy2experiment>
